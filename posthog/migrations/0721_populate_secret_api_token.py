# Generated by Django 4.2.18 on 2025-04-30 20:41

from django.db import migrations

from posthog.models.team.team import generate_random_token_secret


def populate_secret_api_token(apps, schema_editor):
    Team = apps.get_model("posthog", "Team")
    for team in Team.objects.all().iterator():
        team.secret_api_token = generate_random_token_secret()
        team.save()


class Migration(migrations.Migration):
    dependencies = [
        ("posthog", "0720_team_secret_api_token"),
    ]

    operations = [
        migrations.RunPython(populate_secret_api_token, migrations.RunPython.noop),
    ]
