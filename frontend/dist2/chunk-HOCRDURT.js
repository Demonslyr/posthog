import{Eo as m,a as g,f as D,km as i,m as u,re as p}from"/static/chunk-RFJTZKD6.js";import{Za as l}from"/static/chunk-3UDJFOQH.js";import{d as n,e as b,g as c,j as h}from"/static/chunk-SJXEOBQC.js";b();h();c();var r=n(g()),o=n(D());var f={columnKey:"name",order:1},T={search:"",createdBy:"All users",pinned:!1,shared:!1},x=(0,r.kea)([(0,r.path)(["scenes","dashboard","dashboardsLogic"]),(0,r.connect)({values:[m,["user"],u,["featureFlags"]]}),(0,r.actions)({setCurrentTab:e=>({tab:e}),setFilters:e=>({filters:e}),tableSortingChanged:e=>({sorting:e})}),(0,r.reducers)({tableSorting:[f,{persist:!0},{tableSortingChanged:(e,{sorting:a})=>a||f}],currentTab:["dashboards",{setCurrentTab:(e,{tab:a})=>a}],filters:[T,{setFilters:(e,{filters:a})=>l({...e||{},...a})}]}),(0,r.selectors)({isFiltering:[e=>[e.filters],e=>Object.keys(e).some(a=>e[a]!==T[a])],dashboards:[e=>[i.selectors.nameSortedDashboards,e.filters,e.fuse],(e,a,d)=>{let s=e;return a.search&&(s=d.search(a.search).map(t=>t.item)),a.pinned&&(s=s.filter(t=>t.pinned)),a.shared&&(s=s.filter(t=>t.is_shared)),a.createdBy!=="All users"&&(s=s.filter(t=>t.created_by?.uuid===a.createdBy)),s}],fuse:[()=>[i.selectors.nameSortedDashboards],e=>new p(e,{keys:["key","name","description","tags"],threshold:.3})]}),(0,o.actionToUrl)(({values:e})=>({setCurrentTab:()=>{let a=e.currentTab==="dashboards"?void 0:e.currentTab;o.router.values.searchParams.tab!==a&&o.router.actions.push(o.router.values.location.pathname,{...o.router.values.searchParams,tab:a})}})),(0,o.urlToAction)(({actions:e})=>({"/dashboard":(a,d)=>{let s=d.tab||"dashboards";e.setCurrentTab(s)}}))]);export{x as a};
//# sourceMappingURL=/static/chunk-HOCRDURT.js.map
