import{a as O}from"/static/chunk-THBCC2KR.js";import{a as X}from"/static/chunk-BKGCJ5HZ.js";import{a as V}from"/static/chunk-WLM24SYZ.js";import"/static/chunk-I3JBH3PJ.js";import"/static/chunk-TUL3J7MM.js";import{c as I,d as W,f as J,g as K}from"/static/chunk-HH2JRGNR.js";import{a as A}from"/static/chunk-ONXXPKL4.js";import"/static/chunk-67FTXEWX.js";import"/static/chunk-QUCOEN55.js";import"/static/chunk-G6Q3YRDS.js";import"/static/chunk-FZRQH23Q.js";import{a as b}from"/static/chunk-OXUIEO32.js";import{a as x}from"/static/chunk-SEJ4C6TB.js";import"/static/chunk-EWYESSII.js";import"/static/chunk-DJ5KSU5H.js";import"/static/chunk-QNYERZG7.js";import"/static/chunk-Y35PDO57.js";import{Ae as w,Eo as N,Sd as r,a as k,de as S,ee as v,km as B,r as p,te as C,ve as E,vo as M,ze as _}from"/static/chunk-TW5IU73S.js";import"/static/chunk-XPJ4MQJV.js";import"/static/chunk-3UDJFOQH.js";import"/static/chunk-HHT4SG7V.js";import"/static/chunk-K7LQKAJG.js";import"/static/chunk-QQTK3LZH.js";import"/static/chunk-IJQNM355.js";import"/static/chunk-4CN6THWS.js";import"/static/chunk-272RTCFX.js";import"/static/chunk-2ROB4QWU.js";import"/static/chunk-ALT2ZZSO.js";import"/static/chunk-UE6SLBBN.js";import"/static/chunk-GINZUAUY.js";import"/static/chunk-SQELCOUW.js";import"/static/chunk-IGYUTZ65.js";import"/static/chunk-YM6UBNGD.js";import"/static/chunk-C6TQ5FFZ.js";import"/static/chunk-GXGA523B.js";import"/static/chunk-N4MMWRNK.js";import"/static/chunk-NRLAI7OY.js";import"/static/chunk-LVVHNICT.js";import"/static/chunk-2AXSSSSX.js";import"/static/chunk-DGXQI7RB.js";import"/static/chunk-HUCRWDLX.js";import"/static/chunk-RFEQG3YN.js";import"/static/chunk-PUISI233.js";import{d as t,e as m,g as l,j as i}from"/static/chunk-SJXEOBQC.js";m();i();l();var n=t(k());m();i();l();var d=t(k());var e=t(p()),z=()=>{let{allTemplates:h,allTemplatesLoading:u}=(0,d.useValues)(A),{openDashboardTemplateEditor:c,setDashboardTemplateId:s,deleteDashboardTemplate:f,updateDashboardTemplate:T}=(0,d.useActions)(J),{user:D}=(0,d.useValues)(N),g=[{title:"Name",dataIndex:"template_name",render:(L,{template_name:a})=>(0,e.jsx)(e.Fragment,{children:a})},{title:"Description",dataIndex:"dashboard_description",render:(L,{dashboard_description:a})=>(0,e.jsx)(e.Fragment,{children:a})},{title:"Type",dataIndex:"team_id",render:(L,{scope:a})=>a==="global"?(0,e.jsx)(C,{children:"Official"}):(0,e.jsx)(C,{children:"Team"})},{width:0,render:(L,{id:a,scope:y})=>D?.is_staff?(0,e.jsx)(E,{overlay:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(r,{onClick:()=>{if(a===void 0){console.error("Dashboard template id not defined");return}s(a),c()},fullWidth:!0,children:"Edit"}),(0,e.jsxs)(r,{onClick:()=>{if(a===void 0){console.error("Dashboard template id not defined");return}T({id:a,dashboardTemplateUpdates:{scope:y==="global"?"team":"global"}})},fullWidth:!0,children:["Make visible to ",y==="global"?"this team only":"everyone"]}),(0,e.jsx)(v,{}),(0,e.jsx)(r,{onClick:()=>{if(a===void 0){console.error("Dashboard template id not defined");return}S.open({title:"Delete dashboard template?",description:"This action cannot be undone.",primaryButton:{status:"danger",children:"Delete",onClick:()=>{f(a)}}})},fullWidth:!0,status:"danger",disabledReason:y==="global"?"Cannot delete global dashboard templates, make them team only first":void 0,children:"Delete dashboard"})]})}):null}];return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(_,{"data-attr":"dashboards-template-table",pagination:{pageSize:10},dataSource:Object.values(h),columns:g,loading:u,defaultSorting:{columnKey:"name",order:1},emptyState:(0,e.jsx)(e.Fragment,{children:"There are no dashboard templates."}),nouns:["template","templates"]}),(0,e.jsx)(K,{})]})};var o=t(p()),Le={component:R,logic:b};function R(){let{dashboardsLoading:h}=(0,n.useValues)(B),{setCurrentTab:u}=(0,n.useActions)(b),{dashboards:c,currentTab:s,isFiltering:f}=(0,n.useValues)(b),{showNewDashboardModal:T}=(0,n.useActions)(x),D=[{key:"dashboards",label:"Dashboards"},{key:"templates",label:"Templates"}];return(0,o.jsxs)("div",{children:[(0,o.jsx)(X,{}),(0,o.jsx)(W,{}),(0,o.jsx)(I,{}),(0,o.jsx)(M,{buttons:(0,o.jsx)(r,{"data-attr":"new-dashboard",onClick:()=>{T()},type:"primary",children:"New dashboard"})}),(0,o.jsx)(w,{activeKey:s,onChange:g=>u(g),tabs:D}),s==="templates"?(0,o.jsx)(z,{}):h||c.length>0||f?(0,o.jsx)(O,{}):(0,o.jsxs)("div",{className:"mt-4",children:[(0,o.jsx)("p",{children:"Create your first dashboard:"}),(0,o.jsx)(V,{})]})]})}export{R as Dashboards,Le as scene};
//# sourceMappingURL=/static/Dashboards-NIQHY3H5.js.map
