import{a as Y,b as $,c as q}from"/static/chunk-5JMOHJDR.js";import"/static/chunk-E5EBD4YF.js";import{a as G,c as R}from"/static/chunk-B45QJOJV.js";import"/static/chunk-ZXSHFYOF.js";import"/static/chunk-YMADXPYD.js";import"/static/chunk-IPCVEVZF.js";import"/static/chunk-ZTROLN7N.js";import"/static/chunk-36DSVTR6.js";import"/static/chunk-DXU2OWVA.js";import"/static/chunk-L75XFVXE.js";import"/static/chunk-7IEEMZ6G.js";import"/static/chunk-IVGZ2YI3.js";import"/static/chunk-CIEHRPUV.js";import"/static/chunk-HXWIHI4I.js";import"/static/chunk-XY7F5WGW.js";import"/static/chunk-FQ666B2X.js";import"/static/chunk-LYVLXNIU.js";import"/static/chunk-ZRP64K7H.js";import"/static/chunk-F4VW2WHG.js";import"/static/chunk-RMMNJQZ5.js";import"/static/chunk-IF5PCV5K.js";import"/static/chunk-NUJQT2B6.js";import"/static/chunk-336DAFEI.js";import"/static/chunk-LZ4U35M5.js";import{a as X}from"/static/chunk-Y4WAEGNO.js";import"/static/chunk-5QZ3UKWA.js";import"/static/chunk-L6OS4YDC.js";import"/static/chunk-N2KORDXB.js";import"/static/chunk-A5MOAJQD.js";import"/static/chunk-SSCAQKOK.js";import"/static/chunk-G6Q3YRDS.js";import"/static/chunk-XW2JOKCQ.js";import"/static/chunk-AUQGOGK2.js";import"/static/chunk-Z3ZSBYIV.js";import"/static/chunk-VVSLW35Y.js";import"/static/chunk-KYJ4OXJI.js";import"/static/chunk-GVAK35JD.js";import"/static/chunk-HOCRDURT.js";import"/static/chunk-KHKNIVWH.js";import"/static/chunk-OYAHDROG.js";import"/static/chunk-MEAB657I.js";import"/static/chunk-4HIBDE5Y.js";import"/static/chunk-TNG4S7TR.js";import"/static/chunk-LYMEBJGW.js";import"/static/chunk-QIBQKJHN.js";import"/static/chunk-34UVU7UN.js";import"/static/chunk-CDTERFC5.js";import"/static/chunk-LZWHW4MC.js";import{a as V}from"/static/chunk-RSTRTBMR.js";import"/static/chunk-DYVMG6MY.js";import"/static/chunk-44P5EQSU.js";import"/static/chunk-GH3IWF3M.js";import"/static/chunk-CBJ7RAUW.js";import"/static/chunk-XSEDUXPL.js";import"/static/chunk-HRNZBUVG.js";import"/static/chunk-OKGJSIGC.js";import"/static/chunk-NKVVAJQ7.js";import"/static/chunk-2HTNY362.js";import"/static/chunk-S27Q4QO6.js";import"/static/chunk-JUFFFVO5.js";import"/static/chunk-JZCOVRBI.js";import"/static/chunk-EIJECEWK.js";import{Db as w,Do as c,Fe as O,Gm as U,Hn as J,Ik as z,Mn as K,Sd as s,Uf as j,Wd as C,a as _,b as A,cc as F,ce as H,ee as L,fe as W,jk as a,nk as S,q as P,qk as E,r as N,yc as x}from"/static/chunk-RFJTZKD6.js";import"/static/chunk-XPJ4MQJV.js";import"/static/chunk-KQJ3FYBQ.js";import{Cc as D,a as M}from"/static/chunk-3UDJFOQH.js";import"/static/chunk-HHT4SG7V.js";import"/static/chunk-K7LQKAJG.js";import"/static/chunk-QQTK3LZH.js";import"/static/chunk-IJQNM355.js";import"/static/chunk-4CN6THWS.js";import"/static/chunk-272RTCFX.js";import"/static/chunk-2ROB4QWU.js";import"/static/chunk-ALT2ZZSO.js";import"/static/chunk-UE6SLBBN.js";import"/static/chunk-GINZUAUY.js";import"/static/chunk-SQELCOUW.js";import"/static/chunk-IGYUTZ65.js";import"/static/chunk-YM6UBNGD.js";import"/static/chunk-C6TQ5FFZ.js";import"/static/chunk-GXGA523B.js";import"/static/chunk-N4MMWRNK.js";import"/static/chunk-NRLAI7OY.js";import"/static/chunk-LVVHNICT.js";import"/static/chunk-2AXSSSSX.js";import"/static/chunk-DGXQI7RB.js";import"/static/chunk-HUCRWDLX.js";import"/static/chunk-RFEQG3YN.js";import"/static/chunk-PUISI233.js";import{d as i,e as b,g as k,j as f}from"/static/chunk-SJXEOBQC.js";b();f();k();var l=i(_());var no=i(M());b();f();k();var v=i(_());var eo=i(M());var e=i(N());function to({shortId:o}){let{content:r,isLocalOnly:I,isShareModalOpen:m}=(0,v.useValues)(a({shortId:o})),{closeShareModal:h}=(0,v.useActions)(a({shortId:o})),p=c.absolute(c.currentProject(c.notebook(o))),d=c.absolute(c.canvas())+`#\u{1F994}=${D(JSON.stringify(r))}`,[u,g]=(0,eo.useState)(!1),y=()=>{A.capture("pressed interested in notebook sharing",{url:p})};return(0,e.jsx)(H,{title:"Share notebook",onClose:()=>h(),isOpen:m,width:K,footer:(0,e.jsx)(s,{type:"secondary",onClick:h,children:"Done"}),children:(0,e.jsxs)("div",{className:"space-y-4",children:[(0,e.jsx)(z,{flag:"role-based-access-control",children:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(J,{resourceType:"notebook",callback:()=>{h()}}),(0,e.jsx)(L,{})]})}),(0,e.jsx)("h3",{children:"Internal Link"}),I?(0,e.jsx)(C,{type:"info",children:(0,e.jsx)("p",{children:"This Notebook cannot be shared directly with others as it is only visible to you."})}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("p",{children:[(0,e.jsx)("b",{children:"Click the button below"})," to copy a direct link to this Notebook. Make sure the person you share it with has access to this PostHog project."]}),(0,e.jsx)(s,{type:"secondary",fullWidth:!0,center:!0,sideIcon:(0,e.jsx)(w,{}),onClick:()=>void O(p,"notebook link"),title:p,children:(0,e.jsx)("span",{className:"truncate",children:p})}),(0,e.jsx)(L,{className:"my-4"})]}),(0,e.jsx)("h3",{children:"Template Link"}),(0,e.jsx)("p",{children:"The link below will open a Canvas with the contents of this Notebook, allowing the receiver to view it, edit it or create their own Notebook without affecting this one."}),(0,e.jsx)(s,{type:"secondary",fullWidth:!0,center:!0,sideIcon:(0,e.jsx)(w,{}),onClick:()=>void O(d,"canvas link"),title:d,children:(0,e.jsx)("span",{className:"truncate",children:d})}),(0,e.jsx)(L,{className:"my-4"}),(0,e.jsx)("h3",{children:"External Sharing"}),(0,e.jsx)(C,{type:"warning",action:{children:u?"Thanks!":"I would like this!",onClick:()=>{u||(y(),g(!0))}},children:"We don\u2019t currently support sharing notebooks externally, but it\u2019s on our roadmap!"})]})})}b();f();k();var n=i(_());var T=(0,n.kea)([(0,n.path)(o=>["scenes","notebooks","notebookSceneLogic",o]),(0,n.props)({}),(0,n.key)(({shortId:o})=>o),(0,n.connect)(o=>({values:[a(o),["notebook","notebookLoading","isLocalOnly"],E,["notebooksLoading"]],actions:[a(o),["loadNotebook"],E,["createNotebook"]]})),(0,n.selectors)(()=>({notebookId:[()=>[(o,r)=>r],o=>o.shortId],loading:[o=>[o.notebookLoading,o.notebooksLoading],(o,r)=>o||r],breadcrumbs:[o=>[o.notebook,o.loading],(o,r)=>[{key:"Notebooks",name:"Notebooks",path:c.notebooks()},{key:["Notebook",o?.short_id||"new"],name:o?o?.title||"Unnamed":r?null:"Notebook not found"}]],[j]:[o=>[o.notebookId,o.isLocalOnly],(o,r)=>o&&!r?{activity_scope:"Notebook",activity_item_id:o,access_control_resource:"notebook",access_control_resource_id:o}:null]})),(0,n.afterMount)(({actions:o,props:r})=>{r.shortId!=="new"&&o.loadNotebook()})]);var t=i(N()),oe={component:ro,logic:T,paramsToProps:({params:{shortId:o}})=>({shortId:o||"missing"})};function ro(){let{notebookId:o,loading:r}=(0,l.useValues)(T),{createNotebook:I}=(0,l.useActions)(T),{notebook:m,conflictWarningVisible:h,accessDeniedToNotebook:p}=(0,l.useValues)(a({shortId:o,target:"scene"})),{selectNotebook:d,closeSidePanel:u}=(0,l.useActions)(P),{selectedNotebook:g,visibility:y}=(0,l.useValues)(P);if((0,no.useEffect)(()=>{o==="new"&&I("scene")},[o]),p)return(0,t.jsx)(X,{object:"notebook"});if(!m&&!r&&!h)return(0,t.jsx)(U,{object:"notebook"});if(y==="visible"&&g===o)return(0,t.jsxs)("div",{className:"flex flex-col justify-center items-center h-full text-secondary mx-10 flex-1",children:[(0,t.jsxs)("h2",{className:"text-secondary",children:["This Notebook is open in the side panel ",(0,t.jsx)(x,{})]}),(0,t.jsxs)("p",{children:["You can navigate around PostHog and ",(0,t.jsx)("b",{children:"drag and drop"})," thing into it. Or you can close the sidebar and it will be full screen here instead."]}),(0,t.jsx)(s,{type:"secondary",onClick:()=>u(),children:"Open it here instead"})]});let B=m?.is_template;return o==="new"?(0,t.jsx)(G,{}):(0,t.jsxs)("div",{className:"NotebookScene",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between border-b py-2 mb-2 sticky top-0 bg-primary z-10",children:[(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[B&&(0,t.jsx)(W,{type:"highlight",children:"TEMPLATE"}),(0,t.jsx)(V,{at:m?.last_modified_at,by:m?.last_modified_by})]}),(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsx)(Y,{shortId:o}),(0,t.jsx)(q,{shortId:o}),(0,t.jsxs)(s,{type:"secondary",icon:(0,t.jsx)(F,{}),size:"small",onClick:()=>{g===S[0].short_id&&y==="visible"?u():d(S[0].short_id)},children:[g===S[0].short_id&&y==="visible"?"Close ":"","Guide"]}),(0,t.jsx)($,{type:"secondary",size:"small"}),(0,t.jsx)(s,{type:"secondary",size:"small",onClick:()=>{d(o)},tooltip:(0,t.jsx)(t.Fragment,{children:"Opens the notebook in a side panel, that can be accessed from anywhere in the PostHog app. This is great for dragging and dropping elements like insights, recordings or even feature flags into your active notebook."}),sideIcon:(0,t.jsx)(x,{}),children:"Open in side panel"})]})]}),(0,t.jsx)(R,{shortId:o,editable:!B},o),(0,t.jsx)(to,{shortId:o})]})}export{ro as NotebookScene,oe as scene};
//# sourceMappingURL=/static/NotebookScene-PYTOWQDH.js.map
