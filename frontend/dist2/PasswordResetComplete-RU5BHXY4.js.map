{
  "version": 3,
  "sources": ["../src/scenes/authentication/PasswordResetComplete.tsx"],
  "sourcesContent": ["/*\nScene to enter a new password from a received reset link\n*/\nimport { LemonButton, LemonInput } from '@posthog/lemon-ui'\nimport { useValues } from 'kea'\nimport { Form } from 'kea-forms'\nimport { BridgePage } from 'lib/components/BridgePage/BridgePage'\nimport PasswordStrength from 'lib/components/PasswordStrength'\nimport { IconErrorOutline } from 'lib/lemon-ui/icons'\nimport { LemonBanner } from 'lib/lemon-ui/LemonBanner'\nimport { LemonField } from 'lib/lemon-ui/LemonField'\nimport { Spinner } from 'lib/lemon-ui/Spinner/Spinner'\nimport { SceneExport } from 'scenes/sceneTypes'\n\nimport { passwordResetLogic } from './passwordResetLogic'\n\nexport const scene: SceneExport = {\n    component: PasswordResetComplete,\n    logic: passwordResetLogic,\n}\n\nexport function PasswordResetComplete(): JSX.Element {\n    const { validatedResetToken, validatedResetTokenLoading } = useValues(passwordResetLogic)\n    const invalidLink = !validatedResetTokenLoading && !validatedResetToken?.success\n    return (\n        <BridgePage view=\"password-reset-complete\">\n            {invalidLink && (\n                <div className=\"text-center mb-2\">\n                    <IconErrorOutline className=\"text-secondary text-4xl\" />\n                </div>\n            )}\n            <h2>{invalidLink ? 'Unable to reset' : 'Set a new password'}</h2>\n            {validatedResetTokenLoading ? (\n                <Spinner />\n            ) : !validatedResetToken?.token ? (\n                <ResetInvalid />\n            ) : (\n                <NewPasswordForm />\n            )}\n        </BridgePage>\n    )\n}\n\nfunction NewPasswordForm(): JSX.Element {\n    const { validatedPassword, isPasswordResetSubmitting, passwordResetManualErrors } = useValues(passwordResetLogic)\n\n    return (\n        <>\n            <div className=\"text-center mb-4\">Please enter a new password for your account.</div>\n            {!isPasswordResetSubmitting && passwordResetManualErrors.generic && (\n                <LemonBanner type=\"error\">\n                    {passwordResetManualErrors.generic?.detail ||\n                        'Could not complete your password reset request. Please try again.'}\n                </LemonBanner>\n            )}\n            <Form logic={passwordResetLogic} formKey=\"passwordReset\" className=\"space-y-4\" enableFormOnSubmit>\n                <LemonField\n                    name=\"password\"\n                    label={\n                        <div className=\"flex flex-1 items-center justify-between\">\n                            <span>Password</span>\n                            <PasswordStrength validatedPassword={validatedPassword} />\n                        </div>\n                    }\n                >\n                    <LemonInput\n                        autoComplete=\"new-password\"\n                        type=\"password\"\n                        className=\"ph-ignore-input\"\n                        placeholder=\"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\"\n                        data-attr=\"password\"\n                    />\n                </LemonField>\n\n                <LemonField name=\"passwordConfirm\" label=\"Confirm Password\">\n                    <LemonInput\n                        autoComplete=\"new-password\"\n                        type=\"password\"\n                        className=\"ph-ignore-input\"\n                        placeholder=\"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\"\n                        data-attr=\"password-confirm\"\n                    />\n                </LemonField>\n\n                <LemonButton\n                    fullWidth\n                    type=\"primary\"\n                    center\n                    htmlType=\"submit\"\n                    data-attr=\"password-reset-complete\"\n                    loading={isPasswordResetSubmitting}\n                >\n                    Change my password\n                </LemonButton>\n            </Form>\n        </>\n    )\n}\n\nfunction ResetInvalid(): JSX.Element {\n    return (\n        <div className=\"text-center\">\n            The provided link is <b>invalid or has expired</b>. Please request a new link.\n            <div className=\"mt-4\">\n                <LemonButton fullWidth type=\"primary\" center data-attr=\"back-to-login\" to=\"/reset\">\n                    Request new link\n                </LemonButton>\n            </div>\n        </div>\n    )\n}\n"],
  "mappings": "8qCAAAA,IAAAC,IAAAC,IAIA,IAAAC,EAA0B,OAC1BC,EAAqB,OAoBb,IAAAC,EAAA,OATKC,EAAqB,CAC9B,UAAWC,EACX,MAAOC,CACX,EAEO,SAASD,GAAqC,CACjD,GAAM,CAAE,oBAAAE,EAAqB,2BAAAC,CAA2B,KAAI,aAAUF,CAAkB,EAClFG,EAAc,CAACD,GAA8B,CAACD,GAAqB,QACzE,SACI,QAACG,EAAA,CAAW,KAAK,0BACZ,UAAAD,MACG,OAAC,OAAI,UAAU,mBACX,mBAACE,EAAA,CAAiB,UAAU,0BAA0B,EAC1D,KAEJ,OAAC,MAAI,SAAAF,EAAc,kBAAoB,qBAAqB,EAC3DD,KACG,OAACI,EAAA,EAAQ,EACRL,GAAqB,SAGtB,OAACM,EAAA,EAAgB,KAFjB,OAACC,EAAA,EAAa,GAItB,CAER,CAEA,SAASD,GAA+B,CACpC,GAAM,CAAE,kBAAAE,EAAmB,0BAAAC,EAA2B,0BAAAC,CAA0B,KAAI,aAAUX,CAAkB,EAEhH,SACI,oBACI,oBAAC,OAAI,UAAU,mBAAmB,yDAA6C,EAC9E,CAACU,GAA6BC,EAA0B,YACrD,OAACC,EAAA,CAAY,KAAK,QACb,SAAAD,EAA0B,SAAS,QAChC,oEACR,KAEJ,QAAC,QAAK,MAAOX,EAAoB,QAAQ,gBAAgB,UAAU,YAAY,mBAAkB,GAC7F,oBAACa,EAAA,CACG,KAAK,WACL,SACI,QAAC,OAAI,UAAU,2CACX,oBAAC,QAAK,oBAAQ,KACd,OAACC,EAAA,CAAiB,kBAAmBL,EAAmB,GAC5D,EAGJ,mBAACM,EAAA,CACG,aAAa,eACb,KAAK,WACL,UAAU,kBACV,YAAY,+DACZ,YAAU,WACd,EACJ,KAEA,OAACF,EAAA,CAAW,KAAK,kBAAkB,MAAM,mBACrC,mBAACE,EAAA,CACG,aAAa,eACb,KAAK,WACL,UAAU,kBACV,YAAY,+DACZ,YAAU,mBACd,EACJ,KAEA,OAACC,EAAA,CACG,UAAS,GACT,KAAK,UACL,OAAM,GACN,SAAS,SACT,YAAU,0BACV,QAASN,EACZ,8BAED,GACJ,GACJ,CAER,CAEA,SAASF,GAA4B,CACjC,SACI,QAAC,OAAI,UAAU,cAAc,qCACJ,OAAC,KAAE,kCAAsB,EAAI,kCAClD,OAAC,OAAI,UAAU,OACX,mBAACQ,EAAA,CAAY,UAAS,GAAC,KAAK,UAAU,OAAM,GAAC,YAAU,gBAAgB,GAAG,SAAS,4BAEnF,EACJ,GACJ,CAER",
  "names": ["init_dirname", "init_buffer", "init_process", "import_kea", "import_kea_forms", "import_jsx_runtime", "scene", "PasswordResetComplete", "passwordResetLogic", "validatedResetToken", "validatedResetTokenLoading", "invalidLink", "BridgePage", "IconErrorOutline", "Spinner", "NewPasswordForm", "ResetInvalid", "validatedPassword", "isPasswordResetSubmitting", "passwordResetManualErrors", "LemonBanner", "LemonField", "PasswordStrength", "LemonInput", "LemonButton"]
}
