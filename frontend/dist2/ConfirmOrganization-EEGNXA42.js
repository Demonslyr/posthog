import{a as w}from"/static/chunk-WBB26CU5.js";import{a as x}from"/static/chunk-MDHSA7YI.js";import{a as N}from"/static/chunk-VBPFBTFJ.js";import{a as _}from"/static/chunk-6RTFPWQZ.js";import{$a as y,Io as v,Sd as z,Ta as r,Tf as g,Vd as L,_e as b,a as u,ee as O,f as T,ie as c,r as h}from"/static/chunk-TW5IU73S.js";import"/static/chunk-XPJ4MQJV.js";import"/static/chunk-3UDJFOQH.js";import"/static/chunk-HHT4SG7V.js";import"/static/chunk-K7LQKAJG.js";import"/static/chunk-QQTK3LZH.js";import"/static/chunk-IJQNM355.js";import"/static/chunk-4CN6THWS.js";import"/static/chunk-272RTCFX.js";import"/static/chunk-2ROB4QWU.js";import"/static/chunk-ALT2ZZSO.js";import"/static/chunk-UE6SLBBN.js";import"/static/chunk-GINZUAUY.js";import"/static/chunk-SQELCOUW.js";import"/static/chunk-IGYUTZ65.js";import"/static/chunk-YM6UBNGD.js";import"/static/chunk-C6TQ5FFZ.js";import"/static/chunk-GXGA523B.js";import"/static/chunk-N4MMWRNK.js";import"/static/chunk-NRLAI7OY.js";import"/static/chunk-LVVHNICT.js";import"/static/chunk-2AXSSSSX.js";import"/static/chunk-DGXQI7RB.js";import"/static/chunk-HUCRWDLX.js";import"/static/chunk-RFEQG3YN.js";import"/static/chunk-PUISI233.js";import{d as a,e as m,g as s,j as l}from"/static/chunk-SJXEOBQC.js";m();l();s();var d=a(u()),C=a(y());m();l();s();var n=a(u()),S=a(y()),k=a(T());var p=(0,n.kea)([(0,n.path)(["scenes","organization","confirmOrganizationLogic"]),(0,n.actions)({setEmail:e=>({email:e}),setShowNewOrgWarning:e=>({show:e})}),(0,n.reducers)({showNewOrgWarning:[!1,{setShowNewOrgWarning:(e,{show:i})=>i}],email:["",{setEmail:(e,{email:i})=>i}]}),(0,S.forms)(()=>({confirmOrganization:{defaults:{},errors:({organization_name:e,first_name:i})=>({first_name:i?void 0:"Please enter your name",organization_name:e?void 0:"Please enter your organization name"}),submit:async e=>{try{let i=await v.create("api/social_signup/",{...e});location.href=i.success_url||"/"}catch(i){L.error(i.detail||"Failed to create organization")}}}})),(0,k.urlToAction)(({actions:e})=>({"/organization/confirm-creation":(i,{email:t,organization_name:f,first_name:F})=>{e.setConfirmOrganizationValues({organization_name:f,first_name:F}),e.setEmail(t)}}))]);var o=a(h()),$={component:B,logic:b};function B(){let{isConfirmOrganizationSubmitting:e,email:i,showNewOrgWarning:t}=(0,d.useValues)(p),{setShowNewOrgWarning:f}=(0,d.useActions)(p);return(0,o.jsxs)(_,{view:"org-creation-confirmation",hedgehog:!0,children:[(0,o.jsx)("h2",{children:"Create a new organization"}),(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsx)("p",{className:"text-center",children:(0,o.jsxs)("strong",{children:["Trying to join an existing organization? ",(0,o.jsx)("br",{}),!t&&(0,o.jsx)(r,{onClick:()=>{f(!0)},children:"Read more"})]})}),(0,o.jsx)(w,{collapsed:!t,children:(0,o.jsxs)("div",{className:"py-2",children:[(0,o.jsx)("p",{children:"If you're trying to join an existing organization, you should not create a new one. Some reasons that you may accidentally end up here are:"}),(0,o.jsxs)("ul",{className:"list-disc pl-4",children:[(0,o.jsx)("li",{children:"You're logging in with the wrong email address"}),(0,o.jsx)("li",{children:"Your PostHog account is at a different URL"}),(0,o.jsx)("li",{children:"You need an invitation from a colleague"})]})]})})]}),(0,o.jsxs)(C.Form,{logic:p,formKey:"confirmOrganization",enableFormOnSubmit:!0,className:"space-y-4",children:[(0,o.jsx)(g,{name:"email",label:"Email",children:(0,o.jsx)(c,{className:"ph-ignore-input",value:i,disabled:!0})}),(0,o.jsx)(g,{name:"first_name",label:"Your name",children:(0,o.jsx)(c,{className:"ph-ignore-input",placeholder:"Jane Doe"})}),(0,o.jsx)(g,{name:"organization_name",label:"Organization name",help:"You can always rename your organization later",children:(0,o.jsx)(c,{className:"ph-ignore-input",placeholder:"Hogflix Movies"})}),(0,o.jsx)(N,{}),(0,o.jsx)(x,{disabled:e}),(0,o.jsx)(z,{htmlType:"submit",fullWidth:!0,center:!0,type:"primary",loading:e,children:"Create organization"})]}),(0,o.jsxs)("div",{className:"text-center terms-and-conditions-text mt-4 text-secondary",children:["By creating an account, you agree to our"," ",(0,o.jsx)(r,{to:"https://posthog.com/terms",target:"_blank",children:"Terms of Service"})," ","and"," ",(0,o.jsx)(r,{to:"https://posthog.com/privacy",target:"_blank",children:"Privacy Policy"}),"."]}),(0,o.jsx)(O,{thick:!0,dashed:!0,className:"my-6"}),(0,o.jsxs)("div",{className:"text-center terms-and-conditions-text mt-4 text-secondary",children:["Have questions?"," ",(0,o.jsx)(r,{to:"https://posthog.com/support",target:"_blank",children:"Visit support"})," ","or"," ",(0,o.jsx)(r,{to:"https://posthog.com/docs",target:"_blank",children:"read our documentation"}),"."]})]})}export{B as ConfirmOrganization,$ as scene};
//# sourceMappingURL=/static/ConfirmOrganization-EEGNXA42.js.map
