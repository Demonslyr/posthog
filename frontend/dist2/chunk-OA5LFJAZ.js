import{e as y}from"/static/chunk-TKAGNC63.js";import{Ab as X,Do as l,Eo as u,Ip as z,Rb as F,Sd as i,Tc as v,Uc as Y,Wb as Z,Yi as x,_e as C,a as P,ad as h,af as k,bf as E,cd as A,fc as Q,h as O,jc as S,m as N,p as W,po as c,qm as L,qo as f,r as U,ro as M,so as T,tb as J}from"/static/chunk-TW5IU73S.js";import{F as g}from"/static/chunk-3UDJFOQH.js";import{d as r,e as I,g as B,j as R}from"/static/chunk-SJXEOBQC.js";I();R();B();var D=r(O()),n=r(P());var t=r(U());function a({title:o,className:e,children:d}){return(0,t.jsxs)("div",{className:(0,D.default)("AccountPopover__section",e),children:[o&&(0,t.jsx)("h5",{className:"flex items-center",children:o}),d]})}function _(){let{user:o}=(0,n.useValues)(u),{closeAccountPopover:e}=(0,n.useActions)(c);return(0,t.jsx)("div",{className:"AccountInfo",children:(0,t.jsxs)(i,{to:l.settings("user"),onClick:e,"data-attr":"top-menu-item-me",fullWidth:!0,tooltip:"Account settings",tooltipPlacement:"left",sideIcon:(0,t.jsx)(Z,{}),children:[(0,t.jsx)(x,{user:o,size:"xl"}),(0,t.jsxs)("div",{className:"AccountInfo__identification AccountPopover__main-info font-sans font-normal",children:[(0,t.jsx)("div",{className:"font-semibold mb-1",children:o?.first_name}),(0,t.jsx)("div",{className:"overflow-hidden text-secondary truncate text-[0.8125rem]",title:o?.email,children:o?.email})]})]})})}function K({organization:o}){let{closeAccountPopover:e}=(0,n.useActions)(c);return(0,t.jsx)(i,{"data-attr":"top-menu-item-org-settings",icon:(0,t.jsx)(L,{name:o.name,entityId:o.id,mediaId:o.logo_media_id}),sideIcon:(0,t.jsx)(Z,{}),fullWidth:!0,to:l.settings("organization"),onClick:e,tooltip:"Organization settings",tooltipPlacement:"left",children:(0,t.jsxs)("div",{className:"grow",children:[(0,t.jsx)("span",{className:"font-medium",children:o.name}),(0,t.jsx)(f,{organization:o})]})})}function q({center:o=!1,type:e="tertiary"}){let{closeAccountPopover:d}=(0,n.useActions)(c),{showInviteModal:s}=(0,n.useActions)(E),{reportInviteMembersButtonClicked:p}=(0,n.useActions)(z);return(0,t.jsx)(i,{icon:(0,t.jsx)(v,{}),onClick:()=>{d(),s(),p()},center:o,type:e,fullWidth:!0,"data-attr":"top-menu-invite-team-members",children:"Invite members"})}function $(){let{closeAccountPopover:o}=(0,n.useActions)(c);return(0,t.jsx)(i,{icon:(0,t.jsx)(h,{}),onClick:o,fullWidth:!0,to:l.instanceStatus(),sideAction:{tooltip:"Async migrations",tooltipPlacement:"right",icon:(0,t.jsx)(J,{}),to:l.asyncMigrations(),onClick:o},"data-attr":"top-menu-instance-panel",children:"Instance panel"})}function tt(){let{closeAccountPopover:o}=(0,n.useActions)(c);return(0,t.jsx)(i,{icon:(0,t.jsx)(A,{}),onClick:o,fullWidth:!0,to:"/admin/",disableClientSideRouting:!0,"data-attr":"top-menu-django-admin",children:"Django admin"})}function ot(){let{closeAccountPopover:o}=(0,n.useActions)(c),{openSidePanel:e}=(0,n.useActions)(W);return(0,t.jsx)(i,{onClick:()=>{o(),e("feature-previews")},icon:(0,t.jsx)(F,{}),fullWidth:!0,children:"Feature previews"})}function nt(){let{logout:o}=(0,n.useActions)(u);return(0,t.jsx)(i,{onClick:o,icon:(0,t.jsx)(Q,{}),fullWidth:!0,"data-attr":"top-menu-item-logout",children:"Log out"})}function Qt(){let{user:o,otherOrganizations:e}=(0,n.useValues)(u),{currentOrganization:d}=(0,n.useValues)(C),{mobileLayout:s}=(0,n.useValues)(c),{openSidePanel:p}=(0,n.useActions)(W),{preflight:G,isCloudOrDev:w,isCloud:H}=(0,n.useValues)(k),{closeAccountPopover:b}=(0,n.useActions)(c),{featureFlags:V}=(0,n.useValues)(N);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a,{title:"Signed in as",children:(0,t.jsx)(_,{})}),(0,t.jsxs)(a,{title:"Current organization",children:[d&&(0,t.jsx)(K,{organization:d}),w?(0,t.jsx)(i,{onClick:b,to:V[g.BILLING_USAGE_DASHBOARD]?l.organizationBillingSection("overview"):l.organizationBilling(),icon:(0,t.jsx)(Y,{}),fullWidth:!0,"data-attr":"top-menu-item-billing",children:V[g.BILLING_USAGE_DASHBOARD]?"Billing & Usage":"Billing"}):null,(0,t.jsx)(q,{})]}),(e.length>0||G?.can_create_org)&&(0,t.jsxs)(a,{title:"Other organizations",children:[e.map((m,j)=>(0,t.jsx)(M,{organization:m,index:j+2},m.id)),G?.can_create_org&&(0,t.jsx)(T,{})]}),(0,t.jsxs)(a,{children:[(0,t.jsx)(y,{fullWidth:!0,type:"tertiary"}),(0,t.jsx)(i,{to:"https://posthog.com/changelog",onClick:m=>{b(),s||(m.preventDefault(),p("docs","/changelog"))},icon:(0,t.jsx)(S,{}),fullWidth:!0,"data-attr":"whats-new-button",targetBlank:!0,children:"What's new?"}),(0,t.jsx)(ot,{})]}),o?.is_staff&&(0,t.jsxs)(a,{children:[(0,t.jsx)(tt,{}),(0,t.jsx)($,{})]}),!H&&(0,t.jsx)(a,{children:(0,t.jsx)(i,{onClick:b,to:l.moveToPostHogCloud(),icon:(0,t.jsx)(X,{}),fullWidth:!0,"data-attr":"top-menu-item-upgrade-to-cloud",children:"Try PostHog Cloud"})}),(0,t.jsx)(a,{children:(0,t.jsx)(nt,{})})]})}export{q as a,Qt as b};
//# sourceMappingURL=/static/chunk-OA5LFJAZ.js.map
