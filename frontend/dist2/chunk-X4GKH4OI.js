import{a as S}from"/static/chunk-NDVJEFKZ.js";import{a as g}from"/static/chunk-QUCOEN55.js";import{Cd as I,Do as G,Io as v,Pb as h,Sd as u,a as U,ke as k,r as y,se as L}from"/static/chunk-TW5IU73S.js";import{Ha as C}from"/static/chunk-3UDJFOQH.js";import{d as c,e as p,g as f,j as b}from"/static/chunk-SJXEOBQC.js";p();b();f();var r=c(U());var o=c(y());function q({onChange:l,value:s,schema:x,integration:E,redirectUrl:K,beforeRedirect:M}){let{integrationsLoading:w,integrations:B}=(0,r.useValues)(g),{newGoogleCloudKey:F}=(0,r.useActions)(g),e=E,t=B?.filter(n=>n.kind===e),a=t?.find(n=>n.id===s);if(!e)return null;if(w)return(0,o.jsx)(L,{className:"h-10"});let H=e=="google-pubsub"?"Google Cloud Pub/Sub":e=="google-cloud-storage"?"Google Cloud Storage":e=="google-ads"?"Google Ads":C(e);function N(n){let i=document.createElement("input");i.type="file",i.accept=".json",i.onchange=async P=>{let d=P.target.files?.[0];d&&F(n,d,T=>l?.(T.id))},i.click()}let m=(0,o.jsx)(k,{items:[t?.length?{items:[...t?.map(n=>({icon:(0,o.jsx)("img",{src:n.icon_url,className:"w-6 h-6 rounded"}),onClick:()=>l?.(n.id),active:n.id===s,label:n.display_name}))||[]]}:null,["google-pubsub","google-cloud-storage"].includes(e)?{items:[{onClick:()=>N(e),label:"Upload Google Cloud .json key file"}]}:{items:[{to:v.integrations.authorizeUrl({kind:e,next:K}),disableClientSideRouting:!0,onClick:M,label:t?.length?`Connect to a different ${e} integration`:`Connect to ${e}`}]},{items:[{to:G.settings("project-integrations"),label:"Manage integrations",sideIcon:(0,o.jsx)(h,{})},s?{onClick:()=>l?.(null),label:"Clear",sideIcon:(0,o.jsx)(I,{})}:null]}],children:a?(0,o.jsx)(u,{type:"secondary",children:"Change"}):(0,o.jsxs)(u,{type:"secondary",children:["Choose ",H," connection"]})});return(0,o.jsx)(o.Fragment,{children:a?(0,o.jsx)(S,{schema:x,integration:a,suffix:m}):m})}export{q as a};
//# sourceMappingURL=/static/chunk-X4GKH4OI.js.map
