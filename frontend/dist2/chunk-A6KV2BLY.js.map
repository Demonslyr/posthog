{
  "version": 3,
  "sources": ["../src/scenes/pipeline/hogfunctions/HogFunctionStatusIndicator.tsx"],
  "sourcesContent": ["import { LemonDropdown, LemonTag, LemonTagProps } from '@posthog/lemon-ui'\n\nimport { HogFunctionType, HogWatcherState } from '~/types'\n\ntype DisplayOptions = { tagType: LemonTagProps['type']; display: string; description: JSX.Element }\nconst displayMap: Record<HogWatcherState, DisplayOptions> = {\n    [HogWatcherState.healthy]: {\n        tagType: 'success',\n        display: 'Active',\n        description: <>The function is running as expected.</>,\n    },\n    [HogWatcherState.overflowed]: {\n        tagType: 'caution',\n        display: 'Degraded',\n        description: (\n            <>\n                The function is running slow or has issues performing async requests. It has been moved to the slow lane\n                and may be processing slower than usual.\n            </>\n        ),\n    },\n    [HogWatcherState.disabledForPeriod]: {\n        tagType: 'danger',\n        display: 'Disabled temporarily',\n        description: (\n            <>\n                The function has been disabled temporarily due to enough slow or failed requests. It will be re-enabled\n                soon.\n            </>\n        ),\n    },\n    [HogWatcherState.disabledIndefinitely]: {\n        tagType: 'danger',\n        display: 'Disabled',\n        description: (\n            <>\n                The function has been disabled indefinitely due to too many slow or failed requests. Please check your\n                config. Updating your function will move it back to the \"degraded\" state for testing. If it performs\n                well, it will then be moved to the healthy.\n            </>\n        ),\n    },\n}\n\nconst DEFAULT_DISPLAY: DisplayOptions = {\n    tagType: 'default',\n    display: 'Unknown',\n    description: (\n        <>The function status is unknown. The status will be derived once enough invocations have been performed.</>\n    ),\n}\n\nconst DISABLED_MANUALLY_DISPLAY: DisplayOptions = {\n    tagType: 'default',\n    display: 'Paused',\n    description: <>This function is paused</>,\n}\n\nexport type HogFunctionStatusIndicatorProps = {\n    hogFunction: HogFunctionType | null\n}\nexport function HogFunctionStatusIndicator({ hogFunction }: HogFunctionStatusIndicatorProps): JSX.Element | null {\n    if (!hogFunction) {\n        return null\n    }\n\n    const { tagType, display, description } =\n        hogFunction.type === 'site_app' || hogFunction.type === 'site_destination'\n            ? hogFunction.enabled\n                ? displayMap[HogWatcherState.healthy]\n                : DISABLED_MANUALLY_DISPLAY\n            : hogFunction.status?.state\n            ? displayMap[hogFunction.status.state]\n            : hogFunction.enabled\n            ? DEFAULT_DISPLAY\n            : DISABLED_MANUALLY_DISPLAY\n\n    return (\n        <LemonDropdown\n            overlay={\n                <>\n                    <div className=\"p-2 space-y-2\">\n                        <h2 className=\"flex items-center m-0 gap-2\">\n                            Function status - <LemonTag type={tagType}>{display}</LemonTag>\n                        </h2>\n\n                        <p>{description}</p>\n                    </div>\n                </>\n            }\n        >\n            <LemonTag type={tagType}>{display}</LemonTag>\n        </LemonDropdown>\n    )\n}\n"],
  "mappings": "iIAAAA,IAAAC,IAAAC,IASqB,IAAAC,EAAA,OAJfC,EAAsD,CACvD,EAA0B,CACvB,QAAS,UACT,QAAS,SACT,eAAa,mBAAE,gDAAoC,CACvD,EACC,EAA6B,CAC1B,QAAS,UACT,QAAS,WACT,eACI,mBAAE,6JAGF,CAER,EACC,EAAoC,CACjC,QAAS,SACT,QAAS,uBACT,eACI,mBAAE,yHAGF,CAER,EACC,EAAuC,CACpC,QAAS,SACT,QAAS,WACT,eACI,mBAAE,mQAIF,CAER,CACJ,EAEMC,EAAkC,CACpC,QAAS,UACT,QAAS,UACT,eACI,mBAAE,mHAAuG,CAEjH,EAEMC,EAA4C,CAC9C,QAAS,UACT,QAAS,SACT,eAAa,mBAAE,mCAAuB,CAC1C,EAKO,SAASC,EAA2B,CAAE,YAAAC,CAAY,EAAwD,CAC7G,GAAI,CAACA,EACD,OAAO,KAGX,GAAM,CAAE,QAAAC,EAAS,QAAAC,EAAS,YAAAC,CAAY,EAClCH,EAAY,OAAS,YAAcA,EAAY,OAAS,mBAClDA,EAAY,QACRJ,GAAkC,EAClCE,EACJE,EAAY,QAAQ,MACpBJ,EAAWI,EAAY,OAAO,KAAK,EACnCA,EAAY,QACZH,EACAC,EAEV,SACI,OAACM,EAAA,CACG,WACI,mBACI,oBAAC,OAAI,UAAU,gBACX,qBAAC,MAAG,UAAU,8BAA8B,kCACtB,OAACC,EAAA,CAAS,KAAMJ,EAAU,SAAAC,EAAQ,GACxD,KAEA,OAAC,KAAG,SAAAC,EAAY,GACpB,EACJ,EAGJ,mBAACE,EAAA,CAAS,KAAMJ,EAAU,SAAAC,EAAQ,EACtC,CAER",
  "names": ["init_dirname", "init_buffer", "init_process", "import_jsx_runtime", "displayMap", "DEFAULT_DISPLAY", "DISABLED_MANUALLY_DISPLAY", "HogFunctionStatusIndicator", "hogFunction", "tagType", "display", "description", "LemonDropdown", "LemonTag"]
}
