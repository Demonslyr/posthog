import{a as g}from"/static/chunk-GH3IWF3M.js";import{Io as A,Ko as f,Pb as y,Qd as T,Sd as m,Yh as O,Za as P,a as E,b as S,eh as x,g as G,m as h,r as R}from"/static/chunk-RFJTZKD6.js";import{d as i,e as c,g as u,j as p}from"/static/chunk-SJXEOBQC.js";c();p();u();var o=i(E()),b=i(P()),F=i(G());var _={value:"1h",label:"1h"},a={value:"24h",label:"24h"},v={value:"mStart",label:"Month"},L={value:"yStart",label:"Year"},D={dStart:{default:a,custom:_},"-24h":{default:a,custom:_},mStart:{custom:v,default:a},yStart:{custom:L,default:v},all:{custom:L,default:v}},w={date_from:"-7d",date_to:null},J={type:"AND",values:[{type:"AND",values:[]}]},I={"1h":{value:60,interval:"minute"},"24h":{value:24,interval:"hour"},"7d":{value:168,interval:"hour"},"14d":{value:336,interval:"hour"},"90d":{value:90,interval:"day"},"180d":{value:26,interval:"week"},mStart:{value:31,interval:"day"},yStart:{value:52,interval:"week"}};function M(e){if(e in I)return I[e];let[t,r]=e.match(/\d+|\D+/g);return{value:Number(t)*(r==="y"?12:1),interval:r==="h"?"hour":r==="d"?"day":r==="w"?"week":"month"}}var N=(0,o.kea)([(0,o.path)(["scenes","error-tracking","errorTrackingLogic"]),(0,o.connect)({values:[h,["featureFlags"]]}),(0,o.actions)({setDateRange:e=>({dateRange:e}),setAssignee:e=>({assignee:e}),setSearchQuery:e=>({searchQuery:e}),setFilterGroup:e=>({filterGroup:e}),setFilterTestAccounts:e=>({filterTestAccounts:e}),setSparklineSelectedPeriod:e=>({period:e})}),(0,o.reducers)({dateRange:[w,{persist:!0},{setDateRange:(e,{dateRange:t})=>t}],assignee:[null,{setAssignee:(e,{assignee:t})=>t}],filterGroup:[J,{persist:!0},{setFilterGroup:(e,{filterGroup:t})=>t}],filterTestAccounts:[!1,{persist:!0},{setFilterTestAccounts:(e,{filterTestAccounts:t})=>t}],searchQuery:["",{setSearchQuery:(e,{searchQuery:t})=>t}],sparklineSelectedPeriod:[a.value,{persist:!0},{setSparklineSelectedPeriod:(e,{period:t})=>t}]}),(0,b.loaders)({hasSentExceptionEvent:{__default:void 0,loadExceptionEventDefinition:async()=>{let t=(await A.eventDefinitions.list({event_type:"event",search:"$exception"})).results.find(r=>r.name==="$exception");return t?!x(t):!1}}}),(0,o.selectors)({sparklineOptions:[e=>[e.dateRange],({date_from:e})=>{if(!e)return null;let t=e.match(/-\d+[hdmy]/);if(e in D)return D[e];if(t){let r=e?.replace("-","");return{custom:{value:r,label:r},default:a}}return null}],customSparklineConfig:[e=>[e.sparklineOptions],e=>e?M(e.custom.value):null]}),(0,F.subscriptions)(({values:e,actions:t})=>({sparklineOptions:r=>{if(!r)t.setSparklineSelectedPeriod(null);else{let l=Object.values(r).map(d=>d.value);e.sparklineSelectedPeriod&&l.includes(e.sparklineSelectedPeriod)||t.setSparklineSelectedPeriod(r.custom.value)}}})),(0,o.afterMount)(({actions:e})=>{e.loadExceptionEventDefinition()})]);c();p();u();var s=i(E());var n=i(R()),pe=({children:e})=>{let{hasSentExceptionEvent:t,hasSentExceptionEventLoading:r}=(0,s.useValues)(N),{currentTeam:l,currentTeamLoading:k}=(0,s.useValues)(f),d=O("ERROR_TRACKING"),C=l&&l.autocapture_exceptions_opt_in;return r||k?(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsx)(T,{})}):d?!t&&!C?(0,n.jsx)(Q,{}):e:(0,n.jsx)(X,{})},Q=()=>{let{updateCurrentTeam:e}=(0,s.useActions)(f);return(0,n.jsx)(g,{productName:"Error tracking",thingName:"issue",titleOverride:"You haven't captured any exceptions",description:"To start capturing exceptions you need to enable exception autocapture. Exception autocapture only applies to the JS SDK. Installation for other platforms are described in the docs.",isEmpty:!0,productKey:"error_tracking",actionElementOverride:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(m,{type:"primary",onClick:()=>e({autocapture_exceptions_opt_in:!0}),children:"Enable exception autocapture"}),(0,n.jsx)(m,{targetBlank:!0,sideIcon:(0,n.jsx)(y,{className:"w-5 h-5"}),to:"https://posthog.com/docs/error-tracking/installation",children:"Read the docs"})]})})},X=()=>(0,n.jsx)(g,{productName:"Error tracking",thingName:"issue",titleOverride:"Welcome to Error Tracking",description:"Error tracking is in beta for our JS, Node and Python SDKs.",isEmpty:!0,docsURL:"https://posthog.com/docs/error-tracking",productKey:"error_tracking",actionElementOverride:(0,n.jsx)(m,{type:"primary",onClick:()=>S.updateEarlyAccessFeatureEnrollment("error-tracking",!0),children:"Get started"})});export{w as a,J as b,N as c,pe as d};
//# sourceMappingURL=/static/chunk-LJNR27CG.js.map
