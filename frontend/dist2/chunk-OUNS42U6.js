import{Io as c,Za as d,a as m,gg as u,hg as a,ig as g}from"/static/chunk-TW5IU73S.js";import{d as p,e as t,g as i,j as n}from"/static/chunk-SJXEOBQC.js";t();n();i();var r=p(m()),l=p(d());var I=(0,r.kea)([(0,r.props)({}),(0,r.key)(o=>o.groupTypeIndex),(0,r.path)(["groups","groupsListLogic"]),(0,r.connect)({values:[a,["currentProjectId"],g,["groupTypes","aggregationLabel"],u,["groupsEnabled"]]}),(0,r.actions)(()=>({loadGroups:o=>({url:o}),setSearch:(o,e=!0)=>({search:o,debounce:e})})),(0,l.loaders)(({props:o,values:e})=>({groups:[{next:null,previous:null,results:[]},{loadGroups:async({url:s},L)=>(await L(300),e.groupsEnabled?(s=s||`api/projects/${e.currentProjectId}/groups/?group_type_index=${o.groupTypeIndex}${e.search?"&search="+encodeURIComponent(e.search):""}`,await c.get(s)):e.groups)}]})),(0,r.reducers)({search:["",{setSearch:(o,{search:e})=>e}]}),(0,r.selectors)({groupTypeName:[(o,e)=>[e.groupTypeIndex,o.aggregationLabel],(o,e)=>o===-1?{singular:"person",plural:"persons"}:e(o)]}),(0,r.listeners)(({actions:o})=>({setSearch:async({debounce:e},s)=>{e&&await s(300),o.loadGroups()}})),(0,r.afterMount)(({actions:o})=>{o.loadGroups()})]);export{I as a};
//# sourceMappingURL=/static/chunk-OUNS42U6.js.map
