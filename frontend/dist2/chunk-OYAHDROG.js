import{a as R}from"/static/chunk-MEAB657I.js";import{a as _}from"/static/chunk-TNG4S7TR.js";import{c as E}from"/static/chunk-OKGJSIGC.js";import{$d as w,Do as z,Pg as x,Sa as C,Sd as T,Ta as F,Xm as g,Zm as I,a as V,fe as H,ie as S,le as N,r as f,tn as D,ve as P,ze as v}from"/static/chunk-RFJTZKD6.js";import{a as k}from"/static/chunk-3UDJFOQH.js";import{d as s,e as u,g as d,j as p}from"/static/chunk-SJXEOBQC.js";u();p();d();var M=s(k());u();p();d();var a=s(V());var B=s(k());var e=s(f());function A({extraControls:L,...r}){let{loading:l,filteredHogFunctions:y,filters:c,hogFunctions:b,canEnableHogFunction:m}=(0,a.useValues)(g(r)),{loadHogFunctions:J,setFilters:h,resetFilters:X,toggleEnabled:K,deleteHogFunction:U}=(0,a.useActions)(g(r));return(0,B.useEffect)(()=>J(),[]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"flex items-center mb-2 gap-2",children:[!r.forceFilters?.search&&(0,e.jsx)(S,{type:"search",placeholder:"Search...",value:c.search??"",onChange:t=>h({search:t})}),(0,e.jsx)("div",{className:"flex-1"}),typeof r.forceFilters?.showPaused!="boolean"&&(0,e.jsx)(w,{label:"Show paused",bordered:!0,size:"small",checked:c.showPaused,onChange:t=>h({showPaused:t??void 0})}),L]}),(0,e.jsx)(a.BindLogic,{logic:g,props:r,children:(0,e.jsx)(v,{dataSource:y,size:"small",loading:l,columns:[{title:"",width:0,render:function(o,n){return(0,e.jsx)(D,{src:n.icon_url,size:"small"})}},{title:"Name",sticky:!0,sorter:!0,key:"name",dataIndex:"name",render:(t,o)=>(0,e.jsx)(x,{to:I(o.type,o.id,o.template?.id),title:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(C,{title:"Click to update configuration, view metrics, and more",children:(0,e.jsx)("span",{children:o.name})})}),description:o.description})},{title:"Last 7 days",render:(t,o)=>(0,e.jsx)(F,{to:z.pipelineNode("destination",`hog-${o.id}`,"metrics"),children:(0,e.jsx)(R,{id:o.id})})},E(),{title:"Status",key:"enabled",sorter:t=>t.enabled?1:-1,width:0,render:function(o,n){return(0,e.jsx)(e.Fragment,{children:n.enabled?(0,e.jsx)(H,{type:"success",className:"uppercase",children:"Active"}):(0,e.jsx)(H,{type:"default",className:"uppercase",children:"Paused"})})}},{width:0,render:function(o,n){return(0,e.jsx)(P,{overlay:(0,e.jsx)(N,{items:[{label:n.enabled?"Pause":"Unpause",onClick:()=>K(n,!n.enabled),disabledReason:!m(n)&&!n.enabled?"Data pipelines add-on is required for enabling new destinations":void 0},{label:"Delete",status:"danger",onClick:()=>U(n)}]})})}}],emptyState:b.length===0&&!l?"No destinations found":(0,e.jsxs)(e.Fragment,{children:["No destinations matching filters."," ",(0,e.jsx)(F,{onClick:()=>X(),children:"Clear filters"})," "]})})})]})}var i=s(f());function ye({logicKey:L,type:r,filters:l,subTemplateId:y,newDisabledReason:c}){let[b,m]=(0,M.useState)(!1);return b?(0,i.jsx)(_,{defaultFilters:{},type:r,subTemplateId:y,forceFilters:{filters:l},extraControls:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(T,{type:"secondary",size:"small",onClick:()=>m(!1),children:"Cancel"})})}):(0,i.jsx)(A,{logicKey:L,forceFilters:{filters:l},type:r,extraControls:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(T,{type:"primary",size:"small",disabledReason:c,onClick:()=>m(!0),children:"New notification"})})})}export{ye as a};
//# sourceMappingURL=/static/chunk-OYAHDROG.js.map
