import{d as Di}from"/static/chunk-R2FGESDV.js";import{a as fe}from"/static/chunk-FGATK7EO.js";import{a as Ti,b as Mi}from"/static/chunk-UNRPRUE4.js";import{b as ki}from"/static/chunk-VZDALGXW.js";import{a as wi}from"/static/chunk-4MNNHUJC.js";import{i as lt}from"/static/chunk-VVSLW35Y.js";import{a as Ii}from"/static/chunk-KHKNIVWH.js";import{c as Qe}from"/static/chunk-XSEDUXPL.js";import{$g as ui,$i as Si,B as St,Bc as Qt,Bd as Gt,Cd as Jt,Do as p,Eg as ve,Eh as nt,Fc as Bt,Fe as Zt,Fh as gi,Fi as bi,Gb as Mt,Ge as ei,Gg as et,Gh as Le,Hb as kt,He as ti,Ib as Dt,Ie as ii,Ig as mi,Io as Te,Je as ri,Ke as ai,Ko as Li,Le as oi,Mb as Ct,Me as ni,Np as R,Og as tt,Ph as fi,Pl as vi,Qd as me,R as Ae,Rb as Et,Rc as zt,Sa as Je,Sc as Vt,Sd as ge,Ta as It,Tc as Ot,Tf as Ye,Tg as Ie,Ug as it,Vd as F,Vf as Re,Vg as ie,Wf as si,Wh as st,X as vt,Xa as be,Xg as ci,Yb as _t,Za as hr,Zc as Ut,Zf as di,Zg as rt,_c as qt,_i as yi,a as P,ac as xt,ad as $t,aj as We,bb as Lt,be as je,cg as Ze,ch as pi,cj as we,de as ye,f as _e,fe as jt,fh as at,g as j,gh as ot,h as yt,hb as wt,hg as Ne,ie as Se,ig as Pe,jc as At,ke as Xt,km as ce,lc as Rt,ld as Ht,le as Xe,m as Ke,mc as Nt,ng as Fe,og as li,po as dt,r as M,rc as Pt,rd as Kt,re as G,ri as hi,sc as Ft,se as Yt,tb as Tt,vc as Wt,w as Ge}from"/static/chunk-RFJTZKD6.js";import{F as K,Ha as xe,Z as Ee,a as Ce,na as te,sc as bt}from"/static/chunk-3UDJFOQH.js";import{d as g,e as y,g as S,j as v}from"/static/chunk-SJXEOBQC.js";y();v();S();var V=g(P());var br=e=>"type"in e&&e.type==="data_warehouse",yr=e=>"type"in e&&e.type==="posthog",Sr=e=>"query"in e,vr=e=>e.type==="view"||e.type==="lazy_table",Ci=(0,V.kea)([(0,V.path)(["scenes","data-warehouse","editor","editorSceneLogic"]),(0,V.actions)({setSidebarOverlayOpen:e=>({isOpen:e}),selectSchema:e=>({schema:e})}),(0,V.connect)({values:[it,["joins","joinsLoading"],Ie,["posthogTablesMap","dataWarehouseTablesMap"],ie,["dataWarehouseSavedQueryMapById"]],actions:[Qe,["toggleEditJoinModal"],Ie,["loadDatabase"],it,["loadJoins"]]}),(0,V.reducers)({sidebarOverlayOpen:[!1,{setSidebarOverlayOpen:(e,{isOpen:t})=>t,selectSchema:(e,{schema:t})=>t!==null}],selectedSchema:[null,{selectSchema:(e,{schema:t})=>t}]}),(0,V.selectors)(({actions:e})=>({sidebarOverlayTreeItems:[t=>[t.selectedSchema,t.joins,t.posthogTablesMap,t.dataWarehouseTablesMap,t.dataWarehouseSavedQueryMapById],(t,i,r,a,o)=>{if(t===null)return[];let s=null;if(yr(t)?s=r[t.name]:br(t)?s=a[t.name]:Sr(t)&&(s=o[t.id]),s==null)return[];let n=i.filter(u=>u.source_table_name===s.name).reduce((u,l)=>(l.field_name&&(u[l.field_name]=l),u),{}),m=u=>vr(u)&&n[u.name]?[{label:"Edit",onClick:()=>{e.toggleEditJoinModal(n[u.name])}},{label:"Delete join",status:"danger",onClick:()=>{let l=n[u.name];Fe({endpoint:Te.dataWarehouseViewLinks.determineDeleteEndpoint(),object:{id:l.id,name:`${l.field_name} on ${l.source_table_name}`},callback:()=>{e.loadDatabase(),e.loadJoins()}}).catch(f=>{F.error(`Failed to delete warehouse view link: ${f.detail}`)})}}]:[];return"fields"in s?Object.values(s.fields).map(u=>({name:u.name,type:u.type,menuItems:m(u)})):"columns"in s?Object.values(s.columns).map(u=>({name:u.name,type:u.type,menuItems:m(u)})):[]}]}))]);y();v();S();var se=g(P()),ct=g(_e()),sr=g(j());y();v();S();var C=g(P()),Ji=g(_e()),ji=g(j());var Xi=g(Ce());y();v();S();var re=g(P()),_i=g(j());var Ai=g(M()),Ei=new G([],{keys:[{name:"name",weight:2},"description","tags"],threshold:.3,ignoreLocation:!0,includeMatches:!0}),xi=(0,re.kea)([(0,re.path)(["layout","navigation-3000","sidebars","dashboardsSidebarLogic"]),(0,re.connect)({values:[ce,["pinSortedDashboards","dashboardsLoading"],R,["activeScene","sceneParams"]],actions:[ce,["pinDashboard","unpinDashboard"],Si,["showDuplicateDashboardModal"],yi,["showDeleteDashboardModal"],Ii,["showNewDashboardModal"]]}),(0,re.selectors)(({actions:e})=>({contents:[t=>[t.relevantDashboards,t.dashboardsLoading],(t,i)=>[{key:"dashboards",noun:"dashboard",loading:i,onAdd:()=>e.showNewDashboardModal(),modalContent:(0,Ai.jsx)(wi,{}),items:t.map(([r,a])=>({key:r.id,name:r.name,url:p.dashboard(r.id),marker:r.pinned?{type:"fold"}:void 0,searchMatch:a?{matchingFields:a.map(o=>o.key),nameHighlightRanges:a.find(o=>o.key==="name")?.indices}:null,menuItems:o=>[{items:[{to:p.dashboard(r.id),onClick:()=>{Ze({id:r.id}).mount(),Ze({id:r.id}).actions.setDashboardMode("edit","dashboards_list")},label:"Edit"},{onClick:()=>{e.showDuplicateDashboardModal(r.id,r.name)},label:"Duplicate"}]},{items:[{onClick:()=>{(r.pinned?e.unpinDashboard:e.pinDashboard)(r.id,"more_dropdown")},label:r.pinned?"Unpin":"Pin"}]},{items:[{onClick:o,label:"Rename",keyboardShortcut:["enter"]},{onClick:()=>{e.showDeleteDashboardModal(r.id)},status:"danger",label:"Delete dashboard"}]}],onRename:async o=>{await ce.asyncActions.updateDashboard({id:r.id,name:o})}}))}]],activeListItemKey:[t=>[t.activeScene,t.sceneParams],(t,i)=>t==="Dashboard"&&i.params.id?["dashboards",parseInt(i.params.id)]:null],relevantDashboards:[t=>[t.pinSortedDashboards,h.selectors.searchTerm],(t,i)=>i?Ei.search(i).map(r=>[r.item,r.matches]):t.map(r=>[r,null])]})),(0,_i.subscriptions)({pinSortedDashboards:e=>{Ei.setCollection(e)}})]);y();v();S();var O=g(P()),Ri=g(hr()),Ni=g(j());y();v();S();function ae(e,t){if(!t||!e)return null;let i=[],r=e.toLowerCase(),a=t.toLowerCase(),o=r.indexOf(a);for(;o!==-1;)i.push([o,o+t.length]),o=r.indexOf(a,o+1);return i.length?{nameHighlightRanges:i}:null}var Pi=(0,O.kea)([(0,O.path)(["layout","navigation-3000","sidebars","dataManagementSidebarLogic"]),(0,O.connect)(()=>({values:[R,["activeScene","sceneParams"],h,["searchTerm"],Mi,["actions","actionsLoading"]]})),(0,O.actions)({loadEventDefinitions:(e,t)=>({startIndex:e,stopIndex:t}),loadPropertyDefinitions:(e,t)=>({startIndex:e,stopIndex:t})}),(0,Ri.loaders)(({values:e,cache:t})=>({infiniteEventDefinitions:[[[],0],{loadEventDefinitions:async({startIndex:i,stopIndex:r})=>{i||(t.requestedEventDefinitions=[]);for(let s=i;s<r;s++)t.requestedEventDefinitions[s]=!0;let a=await Te.eventDefinitions.list({offset:i,limit:r-i,search:e.searchTerm}),o=i?e.infiniteEventDefinitions[0].slice():[];for(let s=0;s<a.results.length;s++)o[i+s]=a.results[s];return[o,a.count]}}],infinitePropertyDefinitions:[[[],0],{loadPropertyDefinitions:async({startIndex:i,stopIndex:r})=>{i||(t.requestedPropertyDefinitions=[]);for(let s=i;s<r;s++)t.requestedPropertyDefinitions[s]=!0;let a=await Te.propertyDefinitions.list({offset:i,limit:r-i,search:e.searchTerm}),o=i?e.infinitePropertyDefinitions[0].slice():[];for(let s=0;s<a.results.length;s++)o[i+s]=a.results[s];return[o,a.count]}}]})),(0,O.selectors)(({actions:e,values:t,cache:i})=>({contents:[r=>[r.infiniteEventDefinitions,r.infiniteEventDefinitionsLoading,r.infinitePropertyDefinitions,r.infinitePropertyDefinitionsLoading,r.relevantActions,r.actionsLoading],([r,a],o,[s,d],n,m,u)=>[{key:"event-definitions",noun:"event definition",loading:o,items:r.map(l=>l&&{key:l.id,name:be(l.name,"events"),url:p.eventDefinition(l.id),searchMatch:ae(be(l.name,"events"),t.searchTerm),menuItems:[{label:"View recordings",to:p.replay("home",{filter_group:{type:"AND",values:[{type:"AND",values:[{id:l.name,type:"events",order:0,name:l.name}]}]}})}]}),remote:{isItemLoaded:l=>!!(i.requestedEventDefinitions[l]||r[l]),loadMoreItems:(l,f)=>e.loadEventDefinitions(l,f),itemCount:a}},{key:"property-definitions",noun:"property definition",loading:n,items:s.map(l=>l&&{key:l.id,name:be(l.name,"event_properties"),url:p.propertyDefinition(l.id),searchMatch:ae(be(l.name,"event_properties"),t.searchTerm)}),remote:{isItemLoaded:l=>!!(i.requestedPropertyDefinitions[l]||s[l]),loadMoreItems:(l,f)=>e.loadPropertyDefinitions(l,f),itemCount:d}},{key:"actions",noun:"action",loading:u,onAdd:p.action("new"),items:m.map(([l,f])=>({key:l.id,name:l.name,url:p.action(l.id),searchMatch:f?{matchingFields:f.map(w=>w.key),nameHighlightRanges:f.find(w=>w.key==="name")?.indices}:null}))}]],activeListItemKey:[r=>[r.activeScene,r.sceneParams],(r,a)=>r==="EventDefinition"?["event-definitions",a.params.id]:r==="PropertyDefinition"?["property-definitions",a.params.id]:r==="Action"?["actions",a.params.id]:null],debounceSearch:[r=>[r.searchTerm],()=>!0],relevantActions:[r=>[r.actions,h.selectors.searchTerm],(r,a)=>a?Ti.search(a).map(o=>[o.item,o.matches]):r.map(o=>[o,null])]})),(0,Ni.subscriptions)(({actions:e})=>({searchTerm:()=>{e.loadEventDefinitions(0,100),e.loadPropertyDefinitions(0,100)}})),(0,O.afterMount)(({actions:e,cache:t})=>{t.requestedEventDefinitions=[],t.requestedPropertyDefinitions=[],e.loadEventDefinitions(0,100),e.loadPropertyDefinitions(0,100)})]);y();v();S();var oe=g(P()),Wi=g(j());var Fi=new G([],{keys:[{name:"name",weight:2},"description"],threshold:.3,ignoreLocation:!0,includeMatches:!0}),Lr={draft:"muted",running:"success",complete:"completion"},Qi=(0,oe.kea)([(0,oe.path)(["layout","navigation-3000","sidebars","experimentsSidebarLogic"]),(0,oe.connect)({values:[rt,["experiments","experimentsLoading"],R,["activeScene","sceneParams"]],actions:[rt,["loadExperiments","deleteExperiment"]]}),(0,oe.selectors)(({actions:e})=>({contents:[t=>[t.relevantExperiments,t.experimentsLoading],(t,i)=>[{key:"experiments",noun:"experiment",loading:i,items:t.map(([r,a])=>{let o=ci(r);return{key:r.id,name:r.name,summary:o==="draft"?"Draft":o==="complete"?`Completed ${(0,te.default)(r.start_date).fromNow()}`:`Running for ${(0,te.default)(r.start_date).fromNow(!0)} now`,extraContextTop:(0,te.default)(r.created_at),extraContextBottom:`by ${r.created_by?.first_name||"unknown"}`,url:p.experiment(r.id),searchMatch:a?{matchingFields:a.map(s=>s.key),nameHighlightRanges:a.find(s=>s.key==="name")?.indices}:null,marker:{type:"ribbon",status:Lr[o]},menuItems:[{items:[{label:"Delete experiment",onClick:()=>e.deleteExperiment(r.id),status:"danger"}]}]}}),onAdd:p.experiment("new")}]],activeListItemKey:[t=>[t.activeScene,t.sceneParams],(t,i)=>t==="Experiment"&&i.params.id?["experiments",parseInt(i.params.id)]:null],relevantExperiments:[t=>[t.experiments,h.selectors.searchTerm],(t,i)=>i?Fi.search(i).map(r=>[r.item,r.matches]):t.map(r=>[r,null])]})),(0,Wi.subscriptions)({experiments:e=>{Fi.setCollection(e)}})]);y();v();S();var ne=g(P()),zi=g(j());var Vi=g(M()),Bi=new G([],{keys:[{name:"key",weight:2},"name","tags"],threshold:.3,ignoreLocation:!0,includeMatches:!0}),mt=(0,ne.kea)([(0,ne.path)(["layout","navigation-3000","sidebars","featureFlagsSidebarLogic"]),(0,ne.connect)({values:[tt,["featureFlags","featureFlagsLoading"],Ne,["currentProjectId"],R,["activeScene","sceneParams"],Pe,["aggregationLabel"]],actions:[tt,["updateFeatureFlag","loadFeatureFlags"]]}),(0,ne.selectors)(({actions:e})=>({contents:[t=>[t.relevantFeatureFlags,t.featureFlagsLoading,t.currentProjectId,t.aggregationLabel],(t,i,r,a)=>[{key:"feature-flags",noun:"feature flag",loading:i,onAdd:p.featureFlag("new"),items:t.map(([o,s])=>{if(!o.id)throw new Error("Feature flag ID should never be missing in the sidebar");let d={kind:"InsightVizNode",source:{kind:"TrendsQuery",series:[{event:"$pageview",name:"$pageview",kind:"EventsNode",math:"dau"}],breakdownFilter:{breakdown:`$feature/${o.key}`,breakdown_type:"event"}}};return{key:o.id,name:o.key,url:p.featureFlag(o.id),summary:o.active?Di(o.filters,!0,a):(0,Vi.jsx)("i",{children:"Disabled"}),extraContextTop:(0,te.default)(o.created_at),extraContextBottom:`by ${o.created_by?.first_name||"unknown"}`,marker:{type:"ribbon",status:o.active?"success":"danger"},searchMatch:s?{matchingFields:s.map(n=>n.key==="name"?"description":n.key),nameHighlightRanges:s.find(n=>n.key==="key")?.indices}:null,menuItems:[{items:[{label:"Edit",to:p.featureFlag(o.id),onClick:()=>{lt({id:o.id}).mount(),lt({id:o.id}).actions.editFeatureFlag(!0)},disabledReason:o.can_edit?null:"You don't have permission to edit this feature flag."}]},{items:[{label:`${o.active?"Disable":"Enable"} flag`,onClick:()=>e.updateFeatureFlag({id:o.id,payload:{active:!o.active}}),disabledReason:o.can_edit?null:"You don't have permission to edit this feature flag."},{label:"Copy flag key",onClick:()=>{Zt(o.key,"feature flag key")}},{label:"Try out in Insights",to:p.insightNew({query:d}),"data-attr":"usage"}]},{items:[{label:"Delete feature flag",onClick:()=>{Fe({endpoint:`projects/${r}/feature_flags`,object:{name:o.key,id:o.id},callback:()=>{e.loadFeatureFlags()}}).catch(n=>{F.error(`Failed to delete feature flag: ${n.detail}`)})},disabledReason:o.can_edit?null:"You don't have permission to edit this feature flag.",status:"danger"}]}]}})}]],activeListItemKey:[t=>[t.activeScene,t.sceneParams],(t,i)=>t==="FeatureFlag"&&i.params.id?["feature-flags",parseInt(i.params.id)]:null],relevantFeatureFlags:[t=>[t.featureFlags,h.selectors.searchTerm],(t,i)=>i?Bi.search(i).map(r=>[r.item,r.matches]):t.results.map(r=>[r,null])]})),(0,zi.subscriptions)({featureFlags:e=>{Bi.setCollection(e)}})]);y();v();S();var W=g(P()),Oi=g(j());var Ui=(0,W.kea)([(0,W.path)(["layout","navigation-3000","sidebars","insightsSidebarLogic"]),(0,W.connect)(()=>({values:[we,["insights","insightsLoading","paramsFromFilters"],R,["activeScene","sceneParams"],h,["searchTerm"]],actions:[we,["loadInsights","setSavedInsightsFilters","duplicateInsight"]]})),(0,W.reducers)(()=>({infiniteInsights:[[],{[we.actionTypes.loadInsightsSuccess]:(e,{insights:t})=>{let i=t.offset===0?[]:e.slice();for(let r=0;r<t.results.length;r++)i[t.offset+r]=t.results[r];return i}}]})),(0,W.selectors)(({actions:e,values:t,cache:i})=>({contents:[r=>[r.insights,r.infiniteInsights,r.insightsLoading,Ne.selectors.currentProjectId],(r,a,o,s)=>[{key:"insights",noun:"insight",onAdd:p.insightNew(),items:a.map(d=>{if(d)return{key:d.short_id,name:d.name||d.derived_name||"Untitled",isNamePlaceholder:!d.name,url:p.insightView(d.short_id),searchMatch:ae(d.name||d.derived_name||"",t.searchTerm),menuItems:n=>[{items:[{to:p.insightEdit(d.short_id),label:"Edit"},{onClick:()=>{e.duplicateInsight(d)},label:"Duplicate"}]},{items:[{onClick:n,label:"Rename",keyboardShortcut:["enter"]},{onClick:()=>{li({object:d,endpoint:`projects/${s}/insights`,callback:e.loadInsights})},status:"danger",label:"Delete insight"}]}],onRename:async n=>{let m=await Re.update(d.id,{name:n});si.actions.renameInsightSuccess(m)}}}),loading:o,remote:{isItemLoaded:d=>!!(i.requestedInsights[d]||a[d]),loadMoreItems:async d=>{for(let n=d;n<d+We;n++)i.requestedInsights[n]=!0;await we.asyncActions.setSavedInsightsFilters({page:Math.floor(d/We)+1},!0,!1)},itemCount:r.count,minimumBatchSize:We}}]],activeListItemKey:[r=>[r.activeScene,r.sceneParams],(r,a)=>r==="Insight"&&a.params.shortId?["insights",a.params.shortId]:null],debounceSearch:[r=>[r.searchTerm],()=>!0]})),(0,W.listeners)(({values:e,cache:t})=>({loadInsights:()=>{e.paramsFromFilters.offset||(t.requestedInsights=[])}})),(0,Oi.subscriptions)(({actions:e})=>({searchTerm:t=>{e.setSavedInsightsFilters({search:t},!1,!1)}})),(0,W.afterMount)(({cache:e})=>{e.requestedInsights=[]})]);y();v();S();var Q=g(P()),qi=g(_e()),$i=g(j());var Hi=(0,Q.kea)([(0,Q.path)(["layout","navigation-3000","sidebars","personsAndGroupsSidebarLogic"]),(0,Q.connect)(()=>({values:[Le,["persons","personsLoading"],Pe,["groupTypes"],R,["activeScene","sceneParams"],h,["searchTerm"]],actions:[Le,["setListFilters as setPersonsListFilters","loadPersons"]]})),(0,Q.reducers)(()=>({infinitePersons:[[],{[Le.actionTypes.loadPersonsSuccess]:(e,{persons:t})=>{let i=t.offset===0?[]:e.slice();for(let r=0;r<t.results.length;r++)i[t.offset+r]=t.results[r];return i}}]})),(0,Q.selectors)(({values:e,cache:t})=>({contents:[i=>[i.persons,i.infinitePersons,i.personsLoading,i.groupTypes,i.groups,i.groupsLoading],(i,r,a,o,s,d)=>[{key:"persons",noun:"person",items:r.map(n=>{if(!n)return n;let m=nt(n),{searchTerm:u}=e;return{key:n.distinct_ids,name:nt(n),url:gi(n),searchMatch:ae(m,u)}}),loading:a,remote:{isItemLoaded:n=>!!(t.requestedPersons[n]||r[n]),loadMoreItems:async(n,m)=>{let u=i.next||i.previous;if(!u)throw new Error("No URL for loading more persons is known");for(let l=n;l<=m;l++)t.requestedPersons[l]=!0;u=(0,qi.combineUrl)(u,{offset:n,limit:m-n+1}).url,await Le.asyncActions.loadPersons(u)},itemCount:i.count,minimumBatchSize:100}},...Array.from(o.values()).map(n=>({key:`groups-${n.group_type_index}`,noun:[n.name_singular||`${n.group_type} group`,n.name_plural||`${n.group_type} groups`],items:s[n.group_type_index]?.results.map(m=>{let{searchTerm:u}=e,l=ui(m.group_key,m.group_properties);return{key:m.group_key,name:l,url:p.group(n.group_type_index,m.group_key),searchMatch:ae(l,u)}})||[],loading:d[n.group_type_index]}))]],groups:[i=>Array(5).fill(null).map((r,a)=>o=>{if(i.groupTypes(o)[a])return fe({groupTypeIndex:a}).mount(),fe({groupTypeIndex:a}).selectors.groups(o)}),(i,r,a,o,s)=>[i,r,a,o,s]],groupsLoading:[i=>Array(5).fill(null).map((r,a)=>o=>{if(i.groupTypes(o)[a])return fe({groupTypeIndex:a}).mount(),fe({groupTypeIndex:a}).selectors.groupsLoading(o)}),(i,r,a,o,s)=>[i,r,a,o,s]],activeListItemKey:[i=>[i.activeScene,i.sceneParams],(i,r)=>{if(i==="Person"){let{_:a}=r.params;return a?["persons",a]:null}if(i==="Group"){let{groupKey:a,groupTypeIndex:o}=r.params;return a?[`groups-${o}`,decodeURIComponent(a)]:null}return null}],debounceSearch:[i=>[i.searchTerm],()=>!0]})),(0,Q.listeners)(({cache:e})=>({loadPersons:async({url:t})=>{(t?parseInt(new URL(t).searchParams.get("offset")||"0"):0)===0&&(e.requestedPersons=[])}})),(0,$i.subscriptions)(({actions:e,values:t})=>({searchTerm:i=>{e.setPersonsListFilters({search:i}),e.loadPersons();for(let{group_type_index:r}of Object.values(t.groupTypes))fe({groupTypeIndex:r}).actions.setSearch(i,!1)}})),(0,Q.afterMount)(({actions:e,cache:t})=>{t.requestedPersons=[],e.loadPersons()})]);var I=g(M()),$="::",Be=192,Tr=288,Ki=1024,ze=50,h=(0,C.kea)([(0,C.path)(["layout","navigation-3000","navigationLogic"]),(0,C.props)({}),(0,C.connect)(()=>({values:[R,["sceneConfig"],dt,["mobileLayout"],Li,["currentTeam","hasOnboardedAnyProduct"],hi,["replayLandingPage"],ki({tab:"playlists"}),["playlists","playlistsLoading"]],actions:[dt,["closeAccountPopover"]]})),(0,C.actions)({hideSidebar:!0,showSidebar:e=>({newNavbarItemId:e}),toggleNavCollapsed:e=>({override:e}),showNavOnMobile:!0,hideNavOnMobile:!0,toggleSidebar:!0,setSidebarWidth:e=>({width:e}),setSidebarOverslide:e=>({overslide:e}),syncSidebarWidthWithMouseMove:e=>({delta:e}),syncSidebarWidthWithViewport:!0,beginResize:!0,endResize:!0,acknowledgeSidebarKeyboardShortcut:!0,setIsSearchShown:e=>({isSearchShown:e}),setSearchTerm:e=>({searchTerm:e}),initiateNewItemInCategory:e=>({category:e}),initiateNewItemInlineInCategory:e=>({category:e}),cancelNewItem:!0,saveNewItem:e=>({itemName:e}),saveNewItemComplete:!0,setLastFocusedItemIndex:e=>({index:e}),setLastFocusedItemByKey:e=>({key:e}),focusNextItem:!0,focusPreviousItem:!0,toggleAccordion:e=>({key:e}),toggleListItemAccordion:e=>({key:e})}),(0,C.reducers)({isSidebarShown:[!0,{hideSidebar:()=>!1,showSidebar:()=>!0,toggleSidebar:e=>!e}],sidebarWidth:[Tr,{setSidebarWidth:(e,{width:t})=>t}],sidebarOverslide:[0,{setSidebarOverslide:(e,{overslide:t})=>t}],isResizeInProgress:[!1,{beginResize:()=>!0,endResize:()=>!1}],isNavCollapsedDesktop:[!1,{persist:!0},{toggleNavCollapsed:(e,{override:t})=>t??!e}],isNavShownMobile:[!1,{persist:!0},{showNavOnMobile:()=>!0,hideNavOnMobile:()=>!1,closeAccountPopover:()=>!1}],isSidebarKeyboardShortcutAcknowledged:[!1,{persist:!0},{acknowledgeSidebarKeyboardShortcut:()=>!0}],activeNavbarItemIdRaw:["Dashboards",{persist:!0},{showSidebar:(e,{newNavbarItemId:t})=>t||e}],isSearchShown:[!0,{setIsSearchShown:(e,{isSearchShown:t})=>t}],internalSearchTerm:["",{setSearchTerm:(e,{searchTerm:t})=>t}],lastFocusedItemIndex:[-1,{setLastFocusedItemIndex:(e,{index:t})=>t}],accordionCollapseMapping:[{},{persist:!0},{toggleAccordion:(e,{key:t})=>({...e,[t]:!e[t]})}],listItemAccordionCollapseMapping:[{},{persist:!0},{toggleListItemAccordion:(e,{key:t})=>({...e,[t]:!e[t]})}],newItemInlineCategory:[null,{initiateNewItemInlineInCategory:(e,{category:t})=>t,saveNewItemComplete:()=>null,cancelNewItem:()=>null,toggleSidebar:()=>null,showSidebar:()=>null,hideSidebar:()=>null}],savingNewItem:[!1,{saveNewItem:()=>!0,saveNewItemComplete:()=>!1}]}),(0,C.listeners)(({actions:e,values:t})=>({initiateNewItemInCategory:({category:i})=>{let r=t.activeNavbarItem?.logic.values.contents?.find(a=>a.key===i);if(r){if(!r.onAdd||typeof r.onAdd!="function")throw new Error(`Sidebar category '${i}' doesn't support onAdd`)}else throw new Error(`Sidebar category '${i}' doesn't exist`);r.onAdd.length===0?r.onAdd():e.initiateNewItemInlineInCategory(i)},saveNewItem:async({itemName:i})=>{try{let r=t.newItemInlineCategory;if(!r)throw new Error("Can't save new sidebar item without a category");let a=t.activeNavbarItem?.logic.values.contents?.find(o=>o.key===r);if(a){if(!a.onAdd||typeof a.onAdd!="function")throw new Error(`Sidebar category '${r}' doesn't support onAdd`)}else throw new Error(`Sidebar category '${r}' doesn't exist`);await a.onAdd(i)}catch(r){Ee(r),console.error(r),F.error("Something went wrong while saving the item. Please try again.")}finally{e.saveNewItemComplete()}},syncSidebarWidthWithMouseMove:({delta:i})=>{let r=t.sidebarWidth+t.sidebarOverslide+i,a=r;a<Be?a=Be:a>Ki&&(a=Ki),a>window.innerWidth*(ze/100)&&(a=window.innerWidth*(ze/100)),e.setSidebarWidth(a),e.setSidebarOverslide(r-a),r<Be/2?t.isSidebarShown&&e.hideSidebar():t.isSidebarShown||e.showSidebar()},syncSidebarWidthWithViewport:()=>{t.sidebarWidth>window.innerWidth*(ze/100)&&e.setSidebarWidth(window.innerWidth*(ze/100))},endResize:()=>{e.setSidebarOverslide(t.isSidebarShown?0:-Be)},toggleSidebar:()=>{e.endResize()},focusNextItem:()=>{let i=t.lastFocusedItemIndex+1;i<t.sidebarContentsFlattened.length&&e.setLastFocusedItemIndex(i)},focusPreviousItem:()=>{let i=t.lastFocusedItemIndex-1;i>=-1&&e.setLastFocusedItemIndex(i)},setLastFocusedItemByKey:({key:i})=>{let r=t.sidebarContentsFlattened.findIndex(a=>Array.isArray(a.key)?a.key.includes(i):a.key===i);r!==-1&&e.setLastFocusedItemIndex(r)}})),(0,C.selectors)({mode:[e=>[e.sceneConfig],e=>e?.layout==="plain"&&!e.allowUnauthenticated?"minimal":e?.layout!=="plain"?"full":"none"],isNavShown:[e=>[e.isNavShownMobile,e.mobileLayout],(e,t)=>!t||e],isNavCollapsed:[e=>[e.isNavCollapsedDesktop,e.mobileLayout],(e,t)=>!t&&e],navbarItems:[e=>[Ke.selectors.featureFlags,ce.selectors.dashboardsLoading,ce.selectors.pinnedDashboards,e.currentTeam,e.hasOnboardedAnyProduct,e.replayLandingPage,e.playlists,e.playlistsLoading],(e,t,i,r,a,o,s,d)=>{let n=e[K.POSTHOG_3000_NAV],m=r?.has_completed_onboarding_for?.feature_flags,u=a?[{identifier:"ProjectHomepage",label:"Home",icon:(0,I.jsx)(xt,{}),to:p.projectHomepage()},{identifier:"Dashboards",label:"Dashboards",icon:(0,I.jsx)(kt,{}),logic:n?xi:void 0,to:n?void 0:p.dashboards(),sideAction:i.length>0?{identifier:"pinned-dashboards-dropdown",dropdown:{overlay:(0,I.jsx)(Xe,{items:[{title:"Pinned dashboards",items:i.map(l=>({label:l.name,to:p.dashboard(l.id)})),footer:t&&(0,I.jsxs)("div",{className:"px-2 py-1 text-tertiary",children:[(0,I.jsx)(me,{})," Loading\u2026"]})}]}),placement:"bottom-end"}}:void 0},{identifier:"Notebooks",label:"Notebooks",icon:(0,I.jsx)(Wt,{}),to:p.notebooks()},{identifier:"DataManagement",label:"Data management",icon:(0,I.jsx)(Dt,{}),logic:n?Pi:void 0,to:n?void 0:p.eventDefinitions()},{identifier:"PersonsManagement",label:"People and groups",icon:(0,I.jsx)(Qt,{}),logic:n?Hi:void 0,to:n?void 0:p.persons()},{identifier:"Activity",label:"Activity",icon:(0,I.jsx)(At,{}),to:p.activity()}]:[{identifier:"Products",label:"Welcome to PostHog",icon:(0,I.jsx)(Rt,{}),to:p.products()}];return e[K.ARTIFICIAL_HOG]&&u.splice(1,0,{identifier:"Max",label:"Max",icon:(0,I.jsx)(Nt,{}),onClick:()=>F.info("Max now lives in the top right corner of the app \u2013 he will soon disappear from the navbar",{icon:(0,I.jsx)(wt,{})}),to:p.max(),tag:"beta"}),e[K.FEATURE_MANAGEMENT_UI]&&u.splice(4,0,{identifier:"FeatureManagement",label:"Features",icon:(0,I.jsx)(Et,{}),logic:n?mt:void 0,to:n?void 0:p.featureManagement()}),[u,[{identifier:"SavedInsights",label:"Product analytics",icon:(0,I.jsx)(_t,{}),logic:n?Ui:void 0,to:n?void 0:p.savedInsights(),sideAction:{icon:(0,I.jsx)(Ot,{}),to:p.insightNew(),tooltip:"New insight",identifier:"Insight"}},{identifier:"WebAnalytics",label:"Web analytics",icon:(0,I.jsx)(Bt,{}),to:n?void 0:p.webAnalytics()},e[K.LLM_OBSERVABILITY]?{identifier:"LLMObservability",label:"LLM observability",icon:(0,I.jsx)(Lt,{}),to:p.llmObservabilityDashboard(),tag:"beta"}:null,{identifier:"Replay",label:"Session replay",icon:(0,I.jsx)(Ut,{}),to:p.replay(o),sideAction:{identifier:"replay-dropdown",dropdown:{overlay:(0,I.jsx)(Xe,{items:s.count>0?[{title:"Saved playlists",items:s.results.map(l=>({label:l.name||l.derived_name||"Unnamed",to:p.replayPlaylist(l.short_id)})),footer:d&&(0,I.jsxs)("div",{className:"px-2 py-1 text-tertiary",children:[(0,I.jsx)(me,{})," Loading\u2026"]})}]:[{label:"All recordings",to:p.replay("home")},{label:"Playlists",to:p.replay("playlists")}]}),placement:"bottom-end"}}},e[K.ERROR_TRACKING]?{identifier:"ErrorTracking",label:"Error tracking",icon:(0,I.jsx)(Gt,{}),to:p.errorTracking(),tag:"beta"}:null,e[K.HEATMAPS_UI]?{identifier:"Heatmaps",label:"Heatmaps",icon:(0,I.jsx)(Mt,{}),to:n?void 0:p.heatmaps(),tag:"alpha"}:null,{identifier:"FeatureFlags",label:"Feature flags",icon:(0,I.jsx)(Kt,{}),logic:n?mt:void 0,to:n?void 0:p.featureFlags()},{identifier:"Experiments",label:"Experiments",icon:(0,I.jsx)(Ht,{}),logic:n?Qi:void 0,to:n?void 0:p.experiments()},{identifier:"Surveys",label:"Surveys",icon:(0,I.jsx)(Ft,{}),to:p.surveys()},e[K.PRODUCT_INTRO_PAGES]!=="test"||m?{identifier:"EarlyAccessFeatures",label:"Early access features",icon:(0,I.jsx)(qt,{}),to:p.earlyAccessFeatures()}:null,{identifier:"SQLEditor",label:"SQL editor",icon:(0,I.jsx)($t,{}),to:p.sqlEditor(),logic:Gi},a?{identifier:"Pipeline",label:"Data pipelines",icon:(0,I.jsx)(zt,{}),to:p.pipeline()}:null,e[K.MESSAGING]&&a?{identifier:"MessagingBroadcasts",label:"Messaging",icon:(0,I.jsx)(Pt,{}),to:p.messagingBroadcasts(),tag:"alpha"}:null].filter(bt)]}],navbarItemIdMapping:[e=>[e.navbarItems],e=>Object.fromEntries(e.flat().map(t=>[t.identifier,t]))],sidebarOverslideDirection:[e=>[e.sidebarOverslide],e=>e<0?"min":e>0?"max":null],activeNavbarItem:[e=>[e.activeNavbarItemId,e.navbarItemIdMapping],(e,t)=>{let i=e?t[e]:null;return i&&"logic"in i?i:null}],searchTerm:[e=>[e.internalSearchTerm,e.isSearchShown],(e,t)=>t?e:""],sidebarContentsFlattened:[e=>[t=>e.activeNavbarItem(t)?.logic?.findMounted()?.selectors.contents(t)||null],e=>{let t=i=>i.flatMap(r=>"items"in r?t(r.items):r);return e?t(e):[]}],normalizedActiveListItemKey:[e=>[t=>e.activeNavbarItem(t)?.logic?.findMounted()?.selectors.activeListItemKey?.(t)||null],e=>e?Array.isArray(e)?e.join($):e:null],isListItemVisible:[e=>[e.listItemAccordionCollapseMapping],e=>t=>{let i=t.split($);for(let r=1;r<i.length;r++){let a=i.slice(0,r).join($);if(e[a])return!1}return!0}],activeNavbarItemId:[e=>[e.activeNavbarItemIdRaw,Ke.selectors.featureFlags],(e,t)=>e==="SQLEditor"?"SQLEditor":t[K.POSTHOG_3000_NAV]?e:null],newItemCategory:[e=>[t=>e.activeNavbarItem(t)?.logic?.findMounted()?.selectors.contents(t)||null,e.newItemInlineCategory,Ji.router.selectors.location],(e,t,i)=>e&&(t||e.find(r=>typeof r.onAdd=="string"&&r.onAdd===i.pathname)?.key)||null]}),(0,ji.subscriptions)(({props:e,cache:t,actions:i,values:r})=>({isResizeInProgress:a=>{if(a)return t.onMouseMove=o=>i.syncSidebarWidthWithMouseMove(o.movementX),t.onMouseUp=o=>{o.button===0&&i.endResize()},document.addEventListener("mousemove",t.onMouseMove),document.addEventListener("mouseup",t.onMouseUp),()=>{};document.removeEventListener("mousemove",t.onMouseMove),document.removeEventListener("mouseup",t.onMouseUp)},sidebarContentsFlattened:a=>{for(let o of a)o.ref||(o.ref=Xi.default.createRef());i.setLastFocusedItemIndex(-1)},lastFocusedItemIndex:a=>{a>=0?r.sidebarContentsFlattened[a].ref?.current?.focus():e.inputElement?.focus()}})),(0,C.events)(({props:e,actions:t,cache:i})=>({afterMount:()=>{i.onResize=()=>t.syncSidebarWidthWithViewport(),i.onKeyDown=r=>{r.key==="b"&&(r.metaKey||r.ctrlKey)&&(t.toggleSidebar(),r.preventDefault()),r.key==="f"&&r.shiftKey&&(r.metaKey||r.ctrlKey)&&(t.setIsSearchShown(!0),e.inputElement?.focus(),r.preventDefault())},window.addEventListener("resize",i.onResize),window.addEventListener("keydown",i.onKeyDown)},beforeUnmount:()=>{window.removeEventListener("resize",i.onResize),window.removeEventListener("resize",i.onKeyDown)}}))]);y();v();S();var k=g(P()),er=g(_e()),tr=g(j());var Me=g(M()),Yi=vi({dashboardItemId:fi,cachedInsight:null,doNotLoad:!0}),Ve=e=>`${e}/editorModelQueries`,Zi=e=>`${e}/activeModelUri`;var ir="Untitled",Mr=e=>{let t=e.filter(i=>i.name.startsWith(ir)).map(i=>{let r=i.name.match(/Untitled (\d+)/);return r?parseInt(r[1]):0}).filter(i=>!isNaN(i));if(t.length===0)return 1;for(let i=1;i<=t.length+1;i++)if(!t.includes(i))return i;return t.length+1},rr=(0,k.kea)([(0,k.path)(["data-warehouse","editor","multitabEditorLogic"]),(0,k.props)({}),(0,k.key)(e=>e.key),(0,k.connect)({actions:[ie,["loadDataWarehouseSavedQueriesSuccess","deleteDataWarehouseSavedQuerySuccess","createDataWarehouseSavedQuerySuccess","runDataWarehouseSavedQuery"]]}),(0,k.actions)({setQueryInput:e=>({queryInput:e}),updateState:!0,runQuery:(e,t)=>({queryOverride:e,switchTab:t}),setActiveQuery:e=>({query:e}),renameTab:(e,t)=>({tab:e,newName:t}),setTabs:e=>({tabs:e}),addTab:e=>({tab:e}),createTab:(e,t)=>({query:e,view:t}),deleteTab:e=>({tab:e}),_deleteTab:e=>({tab:e}),removeTab:e=>({tab:e}),selectTab:e=>({tab:e}),setLocalState:(e,t)=>({key:e,value:t}),initialize:!0,saveAsView:!0,saveAsViewSubmit:e=>({name:e}),saveAsInsight:!0,saveAsInsightSubmit:e=>({name:e}),setCacheLoading:e=>({loading:e}),setError:e=>({error:e}),setIsValidView:e=>({isValidView:e}),setSourceQuery:e=>({sourceQuery:e}),setMetadata:e=>({metadata:e}),setMetadataLoading:e=>({loading:e}),editView:(e,t)=>({query:e,view:t})}),(0,k.propsChanged)(({actions:e,props:t},i)=>{!i.monaco&&!i.editor&&t.monaco&&t.editor&&e.initialize()}),(0,k.reducers)(({props:e})=>({cacheLoading:[!0,{setCacheLoading:(t,{loading:i})=>i}],sourceQuery:[{kind:"DataVisualizationNode",source:{kind:"HogQLQuery",query:""}},{persist:!0},{setSourceQuery:(t,{sourceQuery:i})=>i}],queryInput:["",{setQueryInput:(t,{queryInput:i})=>i}],activeQuery:[null,{setActiveQuery:(t,{query:i})=>i}],activeModelUri:[null,{selectTab:(t,{tab:i})=>i}],editingView:[null,{selectTab:(t,{tab:i})=>i.view??null}],allTabs:[[],{addTab:(t,{tab:i})=>[...t,i],removeTab:(t,{tab:i})=>t.filter(r=>r.uri.toString()!==i.uri.toString()),setTabs:(t,{tabs:i})=>i}],error:[null,{setError:(t,{error:i})=>i}],isValidView:[!1,{setIsValidView:(t,{isValidView:i})=>i}],metadataLoading:[!0,{setMetadataLoading:(t,{loading:i})=>i}],metadata:[null,{setMetadata:(t,{metadata:i})=>i}],editorKey:[e.key]})),(0,k.listeners)(({values:e,props:t,actions:i,asyncActions:r})=>({editView:({query:a,view:o})=>{let s=e.allTabs.find(d=>d.view?.id===o.id);s?i.selectTab(s):i.createTab(a,o)},createTab:({query:a="",view:o})=>{let s=ve.findMounted()||ve({key:t.key,query:e.sourceQuery?.source.query??"",language:"hogQL"}),d=1,n=e.allTabs.map(m=>parseInt(m.uri.path.split("/").pop()||"0"));for(;n.includes(d);)d++;if(t.monaco){let m=t.monaco.Uri.parse(d.toString()),u=t.monaco.editor.createModel(a,"hogQL",m);t.editor?.setModel(u),s&&et(u,s);let l=Mr(e.allTabs),f=o?.name||`${ir} ${l}`;i.addTab({uri:m,view:o,name:f}),i.selectTab({uri:m,view:o,name:f});let w=e.allTabs.map(T=>({query:t.monaco?.editor.getModel(T.uri)?.getValue()||"",path:T.uri.path.split("/").pop(),view:m.path===T.uri.path?o:T.view,name:T.name}));i.setLocalState(Ve(t.key),JSON.stringify(w))}},renameTab:({tab:a,newName:o})=>{let s=e.allTabs.map(n=>n.uri.toString()===a.uri.toString()?{...n,name:o}:n);i.setTabs(s);let d=s.find(n=>n.uri.toString()===a.uri.toString());d&&i.selectTab(d),i.updateState()},selectTab:({tab:a})=>{if(t.monaco){let s=t.monaco.editor.getModel(a.uri);t.editor?.setModel(s)}let o=a.uri.path.split("/").pop();o&&i.setLocalState(Zi(t.key),o)},deleteTab:({tab:a})=>{e.activeModelUri?.view&&e.queryInput!==e.sourceQuery.source.query?ye.open({title:"Close tab",description:"Are you sure you want to close this tab? There are unsaved changes.",primaryButton:{children:"Close",status:"danger",onClick:()=>i._deleteTab(a)}}):e.queryInput!==""&&!e.activeModelUri?.view?ye.open({title:"Delete query",description:"There are unsaved changes. Are you sure you want to delete this query?",primaryButton:{children:"Delete",status:"danger",onClick:()=>i._deleteTab(a)}}):i._deleteTab(a)},_deleteTab:({tab:a})=>{if(t.monaco){let o=t.monaco.editor.getModel(a.uri);if(a.uri.toString()===e.activeModelUri?.uri.toString()){let d=e.allTabs.findIndex(m=>m.uri.toString()===a.uri.toString()),n=e.allTabs[d+1]||e.allTabs[d-1]||e.allTabs[0];i.selectTab(n)}o?.dispose(),i.removeTab(a);let s=e.allTabs.map(d=>({query:t.monaco?.editor.getModel(d.uri)?.getValue()||"",path:d.uri.path.split("/").pop(),view:d.view}));i.setLocalState(Ve(t.key),JSON.stringify(s))}},setLocalState:({key:a,value:o})=>{localStorage.setItem(a,o)},initialize:()=>{let a=localStorage.getItem(Ve(t.key)),o=localStorage.getItem(Zi(t.key)),s=ve.findMounted()||ve({key:t.key,query:e.sourceQuery?.source.query??"",language:"hogQL"});if(a){t.monaco?.editor.getModels().forEach(m=>{m.dispose()});let d=JSON.parse(a||"[]"),n=[];if(d.forEach(m=>{if(t.monaco){let u=t.monaco.Uri.parse(m.path),l=t.monaco.editor.createModel(m.query,"hogQL",u);t.editor?.setModel(l),n.push({uri:u,view:m.view,name:m.name}),s&&et(l,s)}}),i.setTabs(n),o){let m=t.monaco?.Uri.parse(o),u=t.monaco?.editor.getModels().find(T=>T.uri.path===m?.path);u&&t.editor?.setModel(u);let l=u?.getValue();l&&(i.setQueryInput(l),i.runQuery());let f=n.find(T=>T.uri.path.split("/").pop()===o),w=f?.view;m&&f&&i.selectTab({uri:m,view:w,name:w?.name||f.name})}else n.length&&i.selectTab({uri:n[0].uri,name:n[0].view?.name||n[0].name})}else t.editor?.getModel()&&i.createTab();i.setCacheLoading(!1)},setQueryInput:()=>{i.updateState()},updateState:async(a,o)=>{await o(100);let s=e.allTabs.map(d=>({query:t.monaco?.editor.getModel(d.uri)?.getValue()||"",path:d.uri.path.split("/").pop(),name:d.view?.name||d.name,view:d.view}));localStorage.setItem(Ve(t.key),JSON.stringify(s))},runQuery:({queryOverride:a,switchTab:o})=>{let s=a||e.queryInput;i.setSourceQuery({...e.sourceQuery,source:{...e.sourceQuery.source,query:s}}),st({key:Yi,query:{...e.sourceQuery.source,query:s},autoLoad:!1}).actions.loadData(!o)},saveAsView:async()=>{ye.openForm({title:"Save as view",initialValues:{viewName:e.activeModelUri?.name||""},description:"View names can only contain letters, numbers, '_', or '$'. Spaces are not allowed.",content:(0,Me.jsx)(Ye,{name:"viewName",children:(0,Me.jsx)(Se,{placeholder:"Please enter the name of the view",autoFocus:!0})}),errors:{viewName:a=>a?/^[A-Za-z_$][A-Za-z0-9_$]*$/.test(a)?void 0:"Name must be valid":"You must enter a name"},onSubmit:async({viewName:a})=>{await r.saveAsViewSubmit(a)},shouldAwaitSubmit:!0})},saveAsViewSubmit:async({name:a})=>{let s={...e.sourceQuery.source,query:e.queryInput},n=st({key:Yi,query:s}).values.response?.types??[];try{await ie.asyncActions.createDataWarehouseSavedQuery({name:a,query:s,types:n}),i.updateState()}catch{F.error("Failed to save view")}},saveAsInsight:async()=>{ye.openForm({title:"Save as new insight",initialValues:{name:""},content:(0,Me.jsx)(Ye,{name:"name",children:(0,Me.jsx)(Se,{"data-attr":"insight-name",placeholder:"Please enter the new name",autoFocus:!0})}),errors:{name:a=>a?void 0:"You must enter a name"},onSubmit:async({name:a})=>i.saveAsInsightSubmit(a)})},saveAsInsightSubmit:async({name:a})=>{let o=await Re.create({name:a,query:e.sourceQuery,saved:!0});F.info(`You're now viewing ${o.name||o.derived_name||a}`),er.router.actions.push(p.insightView(o.short_id))},loadDataWarehouseSavedQueriesSuccess:({dataWarehouseSavedQueries:a})=>{let o=e.allTabs.map(s=>({...s,view:a.find(d=>d.id===s.view?.id)}));i.setTabs(o),i.updateState()},deleteDataWarehouseSavedQuerySuccess:({payload:a})=>{let o=e.allTabs.find(s=>s.view?.id===a);o&&i._deleteTab(o),F.success("View deleted")},createDataWarehouseSavedQuerySuccess:({dataWarehouseSavedQueries:a,payload:o})=>{let s=o&&a.find(d=>d.name===o.name);if(s){let d=e.allTabs.map(m=>({...m,view:m.uri.path===e.activeModelUri?.uri.path?s:m.view})),n=d.find(m=>m.uri.path===e.activeModelUri?.uri.path);i.setTabs(d),n&&i.selectTab(n),i.updateState()}},updateDataWarehouseSavedQuerySuccess:()=>{F.success("View updated")}})),(0,tr.subscriptions)(({props:e,actions:t,values:i})=>({activeModelUri:r=>{if(e.monaco){let o=e.monaco.editor.getModel(r.uri)?.getValue();t.setQueryInput(o??""),t.runQuery(void 0,!0)}},allTabs:()=>{let r=i.allTabs.find(a=>a.uri.path===i.activeModelUri?.uri.path);r&&r.uri.path!=i.activeModelUri?.uri.path&&t.selectTab(r)}})),(0,k.selectors)({exportContext:[e=>[e.sourceQuery],e=>({...di(e.source,void 0,void 0),filename:"export"})],isEditingMaterializedView:[e=>[e.editingView],e=>!!e?.status]})]);var ke=g(M()),ar=new G([],{keys:[{name:"name",weight:2}],threshold:.3,ignoreLocation:!0,includeMatches:!0}),or=new G([],{keys:[{name:"name",weight:2}],threshold:.3,ignoreLocation:!0,includeMatches:!0}),nr=new G([],{keys:[{name:"name",weight:2}],threshold:.3,ignoreLocation:!0,includeMatches:!0}),Gi=(0,se.kea)([(0,se.path)(["data-warehouse","editor","editorSidebarLogic"]),(0,se.connect)({values:[R,["activeScene","sceneParams"],ie,["dataWarehouseSavedQueries","dataWarehouseSavedQueryMapById","initialDataWarehouseSavedQueryLoading"],Ie,["posthogTables","dataWarehouseTables","databaseLoading","views","viewsMapById"]],actions:[Ci,["selectSchema"],ie,["deleteDataWarehouseSavedQuery","runDataWarehouseSavedQuery"],Qe,["selectSourceTable","toggleJoinTableModal"]]}),(0,se.selectors)(({actions:e})=>({contents:[t=>[t.relevantSavedQueries,t.initialDataWarehouseSavedQueryLoading,t.relevantPosthogTables,t.relevantDataWarehouseTables,t.dataWarehouseTablesBySourceType,t.databaseLoading],(t,i,r,a,o,s)=>[{key:"data-warehouse-sources",noun:["source","external source"],loading:s,items:a.length>0?a.map(([d,n])=>({key:d.id,name:d.name,url:"",searchMatch:n?{matchingFields:n.map(m=>m.key),nameHighlightRanges:n.find(m=>m.key==="name")?.indices}:null,onClick:()=>{e.selectSchema(d)},menuItems:[{label:"Add join",onClick:()=>{e.selectSourceTable(d.name),e.toggleJoinTableModal()}}]})):o,onAdd:()=>{ct.router.actions.push(p.pipeline("sources"))}},{key:"data-warehouse-tables",noun:["table","tables"],loading:s,items:r.map(([d,n])=>({key:d.id,name:d.name,url:"",searchMatch:n?{matchingFields:n.map(m=>m.key),nameHighlightRanges:n.find(m=>m.key==="name")?.indices}:null,onClick:()=>{e.selectSchema(d)},menuItems:[{label:"Add join",onClick:()=>{e.selectSourceTable(d.name),e.toggleJoinTableModal()}}]}))},{key:"data-warehouse-views",noun:["view","views"],loading:i,items:t.map(([d,n])=>({key:d.id,name:d.name,url:"",icon:d.last_run_at?(0,ke.jsx)(Je,{title:"Materialized view",children:(0,ke.jsx)(vt,{})}):(0,ke.jsx)(Je,{title:"View",children:(0,ke.jsx)(St,{})}),searchMatch:n?{matchingFields:n.map(m=>m.key),nameHighlightRanges:n.find(m=>m.key==="name")?.indices}:null,onClick:()=>{e.selectSchema(d)},menuItems:[{label:"Edit view definition",onClick:()=>{rr({key:`hogQLQueryEditor/${ct.router.values.location.pathname}`}).actions.editView(d.query.query,d)}},{label:"Add join",onClick:()=>{e.selectSourceTable(d.name),e.toggleJoinTableModal()}},{label:"Delete",status:"danger",onClick:()=>{e.deleteDataWarehouseSavedQuery(d.id)}}]}))}]],nonMaterializedViews:[t=>[t.dataWarehouseSavedQueries],t=>t.filter(i=>!i.status)],materializedViews:[t=>[t.dataWarehouseSavedQueries],t=>t.filter(i=>i.status)],activeListItemKey:[t=>[t.activeScene,t.sceneParams],(t,i)=>t==="DataWarehouse"&&i.params.id?["saved-queries",parseInt(i.params.id)]:null],dataWarehouseTablesBySourceType:[t=>[t.dataWarehouseTables],t=>{let i=t.reduce((r,a)=>(a.source?(r[a.source.source_type]||(r[a.source.source_type]=[]),r[a.source.source_type].push(a)):(r["Self-managed"]||(r["Self-managed"]=[]),r["Self-managed"].push(a)),r),{});return Object.entries(i).map(([r,a])=>({key:r,noun:[r,r],items:a.map(o=>({key:o.id,name:o.name,url:"",searchMatch:null,onClick:()=>{e.selectSchema(o)},menuItems:[{label:"Add join",onClick:()=>{e.selectSourceTable(o.name),e.toggleJoinTableModal()}}]}))}))}],relevantDataWarehouseTables:[()=>[h.selectors.searchTerm],t=>t?ar.search(t).map(i=>[i.item,i.matches]):[]],relevantPosthogTables:[t=>[t.posthogTables,h.selectors.searchTerm],(t,i)=>i?or.search(i).map(r=>[r.item,r.matches]):t.map(r=>[r,null])],relevantSavedQueries:[t=>[t.dataWarehouseSavedQueries,h.selectors.searchTerm],(t,i)=>i?nr.search(i).map(r=>[r.item,r.matches]):t.map(r=>[r,null])]})),(0,sr.subscriptions)({dataWarehouseTables:e=>{ar.setCollection(e)},posthogTables:e=>{or.setCollection(e)},dataWarehouseSavedQueries:e=>{nr.setCollection(e)}})]);y();v();S();var ht=g(yt()),X=g(P());var he=g(Ce());y();v();S();var $e=g(P());y();v();S();var Oe=g(P());var ut=g(M());function dr({category:e}){let{newItemCategory:t}=(0,Oe.useValues)(h),{initiateNewItemInCategory:i}=(0,Oe.useActions)(h);return e.onAdd?(0,ut.jsx)(ge,{icon:(0,ut.jsx)(Vt,{}),size:"small",noPadding:!0,to:typeof e.onAdd=="string"?e.onAdd:void 0,onClick:r=>{typeof e.onAdd=="function"&&i(e.key),r.stopPropagation()},active:t===e.key,tooltip:`New ${lr(e.noun)}`,tooltipPlacement:"bottom"}):null}y();v();S();var gr=g(yt()),de=g(P());var N=g(Ce());y();v();S();y();v();S();var mr=g(Ce());var De=function(e){ai(t,e);function t(i,r){var a;return ii(this,t),a=oi(this,ni(t).call(this,i,r)),a._loadMoreRowsMemoizer=at(),a._onRowsRendered=a._onRowsRendered.bind(Ge(a)),a._registerChild=a._registerChild.bind(Ge(a)),a}return ri(t,[{key:"resetLoadMoreRowsCache",value:function(r){this._loadMoreRowsMemoizer=at(),r&&this._doStuff(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"render",value:function(){var r=this.props.children;return r({onRowsRendered:this._onRowsRendered,registerChild:this._registerChild})}},{key:"_loadUnloadedRanges",value:function(r){var a=this,o=this.props.loadMoreRows;r.forEach(function(s){var d=o(s);d&&d.then(function(){kr({lastRenderedStartIndex:a._lastRenderedStartIndex,lastRenderedStopIndex:a._lastRenderedStopIndex,startIndex:s.startIndex,stopIndex:s.stopIndex})&&a._registeredChild&&Cr(a._registeredChild,a._lastRenderedStartIndex)})})}},{key:"_onRowsRendered",value:function(r){var a=r.startIndex,o=r.stopIndex;this._lastRenderedStartIndex=a,this._lastRenderedStopIndex=o,this._doStuff(a,o)}},{key:"_doStuff",value:function(r,a){var o,s=this,d=this.props,n=d.isRowLoaded,m=d.minimumBatchSize,u=d.rowCount,l=d.threshold,f=Dr({isRowLoaded:n,minimumBatchSize:m,rowCount:u,startIndex:Math.max(0,r-l),stopIndex:Math.min(u-1,a+l)}),w=(o=[]).concat.apply(o,ei(f.map(function(T){var J=T.startIndex,Y=T.stopIndex;return[J,Y]})));this._loadMoreRowsMemoizer({callback:function(){s._loadUnloadedRanges(f)},indices:{squashedUnloadedRanges:w}})}},{key:"_registerChild",value:function(r){this._registeredChild=r}}]),t}(mr.PureComponent);ti(De,"defaultProps",{minimumBatchSize:10,rowCount:0,threshold:15});De.propTypes={};function kr(e){var t=e.lastRenderedStartIndex,i=e.lastRenderedStopIndex,r=e.startIndex,a=e.stopIndex;return!(r>i||a<t)}function Dr(e){for(var t=e.isRowLoaded,i=e.minimumBatchSize,r=e.rowCount,a=e.startIndex,o=e.stopIndex,s=[],d=null,n=null,m=a;m<=o;m++){var u=t({index:m});u?n!==null&&(s.push({startIndex:d,stopIndex:n}),d=n=null):(n=m,d===null&&(d=m))}if(n!==null){for(var l=Math.min(Math.max(n,d+i-1),r-1),f=n+1;f<=l&&!t({index:f});f++)n=f;s.push({startIndex:d,stopIndex:n})}if(s.length)for(var w=s[0];w.stopIndex-w.startIndex+1<i&&w.startIndex>0;){var T=w.startIndex-1;if(!t({index:T}))w.startIndex=T;else break}return s}function Cr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=typeof e.recomputeGridSize=="function"?e.recomputeGridSize:e.recomputeRowHeights;i?i.call(e,t):e.forceUpdate()}y();v();S();var pt=g(M());function Ue({string:e,substring:t,className:i}){let r=e.split(new RegExp(`(${t})`,"gi"));return(0,pt.jsx)("div",{className:`truncate ${i}`,children:r.map((a,o)=>(0,pt.jsx)("span",{className:`text-xs ${a.toLowerCase()===t.toLowerCase()?"bg-accent-primary bg-opacity-60":""}`,children:a},o))})}var c=g(M()),pe=e=>"items"in e,gt=e=>"loading"in e;function qe({category:e}){let t=(0,N.useRef)(null),{isListItemVisible:i,listItemAccordionCollapseMapping:r,normalizedActiveListItemKey:a,sidebarWidth:o,newItemInlineCategory:s,savingNewItem:d}=(0,de.useValues)(h),{cancelNewItem:n}=(0,de.useActions)(h),{saveNewItem:m}=(0,de.useAsyncActions)(h),u=(0,N.useMemo)(()=>4+Math.floor(Math.random()*4),[]),{items:l}=e,f=(0,N.useMemo)(()=>{let L=[],B=(E,ee=1,H=null)=>{E.forEach(q=>{L.push({...q,depth:ee,key:H?[Array.isArray(H)?H.join($):H,q.key].join($):q.key.toString()}),pe(q)&&B(q.items,ee+1,H?`${H}${$}${q.key}`:q.key)})};return B(l,1,e.key),L.filter(E=>i(Array.isArray(E.key)?E.key.join($):E.key.toString()))},[l,i]);(0,N.useEffect)(()=>{t.current&&(t.current.recomputeRowHeights(),t.current.forceUpdateGrid())},[r,f]);let w=gt(e)?e.remote:void 0,T=gt(e)?e.loading:!1,J=gt(e)?e.validateName:void 0,Y=s===e.key,Z=f.find(Boolean),le=!!Z&&"summary"in Z,b={className:"SidebarList",width:o,rowHeight:le?46:32,rowRenderer:({index:L,style:B})=>{let E=Y?L-1:L;if(E===-1)return(0,c.jsx)(cr,{item:{key:"__tentative__",onSave:async He=>m(He),onCancel:n,loading:d},validateName:J,style:B},E);let ee=f[E];if(!ee)return(0,c.jsx)(pr,{style:B},E);let H=Array.isArray(ee.key)?ee.key.map(He=>`${e.key}${$}${He}`):`${e.key}${$}${ee.key}`,q;return Array.isArray(H)?q=typeof a=="string"&&H.includes(a):q=H===a,(0,c.jsx)(cr,{item:ee,validateName:J,active:q,style:B},E)},overscanRowCount:20,tabIndex:null};return(0,c.jsx)("div",{className:"flex-1","aria-busy":T,children:(0,c.jsx)(mi,{disableWidth:!0,children:({height:L})=>"loading"in e&&e.items.length===0?Array(u).fill(null).map((B,E)=>(0,c.jsx)(pr,{style:{height:32}},E)):w?(0,c.jsx)(De,{isRowLoaded:({index:B})=>w.isItemLoaded(B),loadMoreRows:({startIndex:B,stopIndex:E})=>w.loadMoreItems(B,E),rowCount:w.itemCount,minimumBatchSize:w.minimumBatchSize||100,children:({onRowsRendered:B,registerChild:E})=>(0,c.jsx)(ot,{...b,ref:E,height:L,rowCount:w.itemCount+Number(Y),onRowsRendered:B})}):(0,c.jsx)(ot,{ref:t,...b,height:L,rowCount:f.length+Number(Y)})})})}function U(e){return"onSave"in e}function Er(e){return"onClick"in e}function cr({item:e,validateName:t,active:i,style:r}){let[a,o]=(0,N.useState)(!1),[s,d]=(0,N.useState)(null),[n,m]=(0,N.useState)(null),[u,l]=(0,N.useState)(!1),f=(0,N.useRef)(null);e.ref=f;let w=U(e)?e.loading:u,T=(0,N.useMemo)(()=>{if(!(U(e)||pe(e))){if(e.onRename){if(typeof e.menuItems!="function")throw new Error('menuItems must be a function for renamable items so that the "Rename" item is shown');return e.menuItems(()=>d(e.name))}return typeof e.menuItems=="function"?e.menuItems(()=>console.error("Cannot rename item without onRename handler")):e.menuItems}},[e,d]),J=()=>{U(e)&&e.onCancel(),d(null),m(null)},Y=b=>{if(t){let L=t(b);return m(L||null),!L}return!0},Z=U(e)?async b=>{Y(b)&&await e.onSave(b)}:!pe(e)&&e.onRename?async b=>{if(!b||b===e.name)return J();if(Y(b)){l(!0);try{await e.onRename?.(b)}catch(L){Ee(L),F.error("Could not rename item")}finally{l(!1),J()}}}:null;(0,N.useEffect)(()=>{if(!U(e)&&!pe(e)&&Z&&s===null){let b=()=>{d(e.name)},L=f.current;if(L)return L.addEventListener("dblclick",b),()=>{L.removeEventListener("dblclick",b)}}});let le;if(pe(e))le=(0,c.jsx)(_r,{category:e});else if(Er(e))le=(0,c.jsxs)("div",{className:"SidebarListItem__button",onClick:e.onClick,style:{"--depth":e.depth},children:[e.icon&&(0,c.jsx)("div",{className:"SidebarListItem__icon",children:e.icon}),(0,c.jsx)(Ue,{string:e.name,substring:h.values.searchTerm})]});else if(!Z||!U(e)&&s===null){if(U(e))throw new Error("Tentative items should not be rendered in read mode");let b=e.searchMatch?.nameHighlightRanges?.length?(0,c.jsx)(Ue,{string:e.name,substring:h.values.searchTerm}):e.name;(!e.url||e.isNamePlaceholder)&&(b=(0,c.jsx)("i",{children:b})),e.tag&&(b=(0,c.jsxs)(c.Fragment,{children:[b,(0,c.jsx)(jt,{type:e.tag.status,size:"small",className:"ml-2",children:e.tag.text})]})),le=(0,c.jsx)(It,{ref:f,to:e.url||void 0,className:"SidebarListItem__link",onKeyDown:L=>{L.key==="ArrowDown"?L.metaKey||L.ctrlKey?L.target.click():(h.actions.focusNextItem(),L.preventDefault()):L.key==="ArrowUp"?(h.actions.focusPreviousItem(),L.preventDefault()):Z&&L.key==="Enter"&&(d(e.name),L.preventDefault())},onFocus:()=>{h.actions.setLastFocusedItemByKey(Array.isArray(e.key)?e.key[0]:e.key)},children:"summary"in e?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"flex space-between gap-1",children:[(0,c.jsx)("h5",{className:"flex-1",children:b}),(0,c.jsx)("div",{children:(0,c.jsx)(ur,{data:e.extraContextTop})})]}),(0,c.jsxs)("div",{className:"flex space-between gap-1",children:[(0,c.jsx)("div",{className:"flex-1 overflow-hidden text-ellipsis",children:e.searchMatch?.matchingFields?`Matching fields: ${e.searchMatch.matchingFields.map(L=>L.replace(/_/g," ")).join(", ")}`:e.summary}),(0,c.jsx)("div",{children:(0,c.jsx)(ur,{data:e.extraContextBottom})})]})]}):(0,c.jsx)("h5",{children:b})})}else le=(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"SidebarListItem__rename",ref:f,children:(0,c.jsx)("input",{value:s||"",onChange:b=>d(b.target.value),onKeyDown:b=>{b.key==="ArrowDown"?(h.actions.focusNextItem(),b.preventDefault()):b.key==="ArrowUp"?(h.actions.focusPreviousItem(),b.preventDefault()):b.key==="Enter"?(Z(s||"").then(()=>{setTimeout(()=>f.current?.focus(),0)}),b.preventDefault()):b.key==="Escape"&&(J(),setTimeout(()=>f.current?.focus(),0),b.preventDefault())},onFocus:b=>{h.actions.setLastFocusedItemByKey(Array.isArray(e.key)?e.key[0]:e.key),b.target.select()},onBlur:b=>{b.relatedTarget?.ariaLabel==="Save name"?Z(s||""):J()},placeholder:U(e)?"Adding something new\u2026":`Renaming ${e.name}\u2026`,disabled:w,autoFocus:!0})}),n&&(0,c.jsx)("div",{className:"SidebarListItem__error",children:n})]});return(0,c.jsxs)("li",{id:`sidebar-${e.key}`,title:!U(e)&&!pe(e)?e.name:"New item",className:(0,gr.default)("SidebarListItem","menuItems"in e&&e.menuItems?.length&&"SidebarListItem--has-menu",a&&"SidebarListItem--is-menu-open",(U(e)||s!==null)&&"SidebarListItem--is-renaming","marker"in e&&!!e.marker&&`SidebarListItem--marker-${e.marker.type}`,"marker"in e&&!!e.marker?.status&&`SidebarListItem--marker-status-${e.marker.status}`,"summary"in e&&"SidebarListItem--extended"),"aria-disabled":!U(e)&&!pe(e)&&!e.url,"aria-current":i?"page":void 0,"aria-invalid":!!n,style:r,children:[le,U(e)||s!==null?(0,c.jsxs)("div",{className:"SidebarListItem__actions",children:[!w&&(0,c.jsx)(ge,{size:"small",noPadding:!0,icon:(0,c.jsx)(Jt,{}),tooltip:(0,c.jsxs)(c.Fragment,{children:["Cancel ",(0,c.jsx)(je,{escape:!0})]}),"aria-label":"Cancel"}),(0,c.jsx)(ge,{size:"small",noPadding:!0,icon:(0,c.jsx)(Tt,{}),tooltip:w?null:(0,c.jsxs)(c.Fragment,{children:["Save name ",(0,c.jsx)(je,{enter:!0})]}),loading:w,"aria-label":"Save name"})]}):!!T?.length&&(0,c.jsx)(Xt,{items:T,onVisibilityChange:o,children:(0,c.jsx)("div",{className:"SidebarListItem__actions",children:(0,c.jsx)(ge,{size:"small",noPadding:!0,icon:(0,c.jsx)(Ct,{})})})})]})}function ur({data:e}){return(0,te.isDayjs)(e)?(0,c.jsx)(pi,{time:e}):(0,c.jsx)(c.Fragment,{children:e})}function pr({style:e}){return(0,c.jsx)("li",{className:"SidebarListItem SidebarListItem__link",style:e,children:(0,c.jsx)(Yt,{})})}function _r({category:e}){let{listItemAccordionCollapseMapping:t}=(0,de.useValues)(h),{toggleListItemAccordion:i}=(0,de.useActions)(h),{key:r,items:a}=e,o=a.length===0,s=Array.isArray(r)?r.join($):r.toString(),d=!(s in t)||!t[s];return(0,c.jsx)("div",{className:"SidebarListItemAccordion",role:"region","aria-expanded":d,children:(0,c.jsxs)("div",{id:`sidebar-list-item-accordion-${s}`,className:"SidebarListItemAccordion__header",role:"button","aria-expanded":d,style:{"--depth":e.depth},onClick:d||a.length>0?()=>i(s):void 0,children:[(0,c.jsx)(Ae,{}),(0,c.jsxs)("h4",{children:[xe(ft(e.noun)),o&&(0,c.jsxs)(c.Fragment,{children:[" ",(0,c.jsx)("i",{children:"(empty)"})]})]})]})})}var z=g(M());function fr({category:e}){let{accordionCollapseMapping:t}=(0,$e.useValues)(h),{toggleAccordion:i}=(0,$e.useActions)(h),{key:r,items:a,loading:o}=e,s=a.length===0,d=!o&&s,n=!t[r]&&!s;return(0,z.jsxs)("section",{className:"Accordion","aria-busy":o,"aria-disabled":s,"aria-expanded":n,children:[(0,z.jsxs)("div",{className:"Accordion__header",onClick:n||a.length>0?()=>i(r):void 0,children:[o?(0,z.jsx)(me,{}):(0,z.jsx)(Ae,{}),(0,z.jsxs)("h4",{children:[xe(ft(e.noun)),d&&(0,z.jsxs)(z.Fragment,{children:[" ",(0,z.jsx)("i",{children:"(empty)"})]})]}),(0,z.jsx)(dr,{category:e})]}),n&&(0,z.jsx)(qe,{category:e})]})}function lr(e){return Array.isArray(e)?e[0]:e}function ft(e){return Array.isArray(e)?e[1]:`${e}s`}var D=g(M()),xr=300;function wd({navbarItem:e,sidebarOverlay:t,sidebarOverlayProps:i}){let r=(0,he.useRef)(null),{sidebarWidth:a,isSidebarShown:o,isResizeInProgress:s,sidebarOverslideDirection:d,isSearchShown:n}=(0,X.useValues)(h({inputElement:r.current})),{beginResize:m}=(0,X.useActions)(h({inputElement:r.current})),{contents:u}=(0,X.useValues)(e.logic);return(0,D.jsxs)("div",{className:(0,ht.default)("Sidebar3000",s&&"Sidebar3000--resizing",d&&`Sidebar3000--overslide-${d}`),"aria-hidden":!o,style:{"--sidebar-width":`${o?a:0}px`},children:[(0,D.jsxs)("div",{className:"Sidebar3000__content",children:[e?.logic&&n&&(0,D.jsx)(Ar,{activeSidebarLogic:e.logic,inputElementRef:r}),(0,D.jsx)("div",{className:"Sidebar3000__lists",children:e?.logic&&(0,D.jsx)(Rr,{activeSidebarLogic:e.logic})}),u.filter(({modalContent:l})=>l).map(l=>(0,D.jsx)(he.default.Fragment,{children:l.modalContent},l.key))]}),(0,D.jsx)("div",{className:"Sidebar3000__slider",onMouseDown:l=>{l.button===0&&m()}}),t&&(0,D.jsx)(Nr,{...i,isOpen:i?.isOpen&&o,width:a,children:t})]})}function Ar({activeSidebarLogic:e,inputElementRef:t}){let{searchTerm:i}=(0,X.useValues)(h),{setSearchTerm:r,focusNextItem:a,setLastFocusedItemIndex:o}=(0,X.useActions)(h),{contents:s,debounceSearch:d}=(0,X.useValues)(e),[n,m]=(0,he.useState)(i),u=bi(f=>r(f),d?xr:void 0),l=s.some(f=>f.loading);return(0,D.jsx)("div",{className:"h-10",children:(0,D.jsx)(Se,{inputRef:t,type:"search",value:n,onChange:f=>{m(f),u(f)},size:"small",prefix:(n||i)&&(n!==i||l)?(0,D.jsx)(me,{textColored:!0}):null,placeholder:"Search...",onKeyDown:f=>{f.key==="ArrowDown"&&(a(),f.preventDefault())},onFocus:()=>{o(-1)},autoFocus:!0})})}function Rr({activeSidebarLogic:e}){let{contents:t}=(0,X.useValues)(e);return t.length!==1?(0,D.jsx)(D.Fragment,{children:t.map(i=>(0,D.jsx)(fr,{category:i},i.key))}):(0,D.jsx)(qe,{category:t[0]})}function Nr({className:e,isOpen:t=!1,children:i,width:r}){return t?(0,D.jsx)("div",{className:(0,ht.default)("absolute top-0 left-0 h-full bg-primary z-10",e),style:{width:`${r}px`},children:i}):null}export{Ci as a,Yi as b,ir as c,rr as d,Gi as e,h as f,wd as g};
//# sourceMappingURL=/static/chunk-XP6SEOGC.js.map
