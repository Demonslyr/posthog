{
  "version": 3,
  "sources": ["../src/scenes/experiments/SharedMetrics/sharedMetricsLogic.tsx"],
  "sourcesContent": ["import { actions, events, kea, listeners, path, reducers } from 'kea'\nimport { loaders } from 'kea-loaders'\nimport { router } from 'kea-router'\nimport api from 'lib/api'\n\nimport { SharedMetric } from './sharedMetricLogic'\nimport type { sharedMetricsLogicType } from './sharedMetricsLogicType'\n\nexport enum SharedMetricsTabs {\n    All = 'all',\n    Yours = 'yours',\n    Archived = 'archived',\n}\n\nexport const sharedMetricsLogic = kea<sharedMetricsLogicType>([\n    path(['scenes', 'experiments', 'sharedMetricsLogic']),\n    actions({\n        setSharedMetricsTab: (tabKey: SharedMetricsTabs) => ({ tabKey }),\n    }),\n\n    loaders({\n        sharedMetrics: {\n            loadSharedMetrics: async () => {\n                const response = await api.get('api/projects/@current/experiment_saved_metrics')\n                return response.results as SharedMetric[]\n            },\n        },\n    }),\n\n    reducers({\n        tab: [\n            SharedMetricsTabs.All as SharedMetricsTabs,\n            {\n                setSharedMetricsTab: (_, { tabKey }) => tabKey,\n            },\n        ],\n    }),\n    listeners(() => ({\n        setSharedMetricsTab: () => {\n            router.actions.push('/experiments/shared-metrics')\n        },\n    })),\n    events(({ actions }) => ({\n        afterMount: () => {\n            actions.loadSharedMetrics()\n        },\n    })),\n])\n"],
  "mappings": "wIAAAA,IAAAC,IAAAC,IAAA,IAAAC,EAAgE,OAChEC,EAAwB,OACxBC,EAAuB,OAYhB,IAAMC,KAAqB,OAA4B,IAC1D,QAAK,CAAC,SAAU,cAAe,oBAAoB,CAAC,KACpD,WAAQ,CACJ,oBAAsBC,IAA+B,CAAE,OAAAA,CAAO,EAClE,CAAC,KAED,WAAQ,CACJ,cAAe,CACX,kBAAmB,UACE,MAAMC,EAAI,IAAI,gDAAgD,GAC/D,OAExB,CACJ,CAAC,KAED,YAAS,CACL,IAAK,CACD,MACA,CACI,oBAAqB,CAACC,EAAG,CAAE,OAAAF,CAAO,IAAMA,CAC5C,CACJ,CACJ,CAAC,KACD,aAAU,KAAO,CACb,oBAAqB,IAAM,CACvB,SAAO,QAAQ,KAAK,6BAA6B,CACrD,CACJ,EAAE,KACF,UAAO,CAAC,CAAE,QAAAG,CAAQ,KAAO,CACrB,WAAY,IAAM,CACdA,EAAQ,kBAAkB,CAC9B,CACJ,EAAE,CACN,CAAC",
  "names": ["init_dirname", "init_buffer", "init_process", "import_kea", "import_kea_loaders", "import_kea_router", "sharedMetricsLogic", "tabKey", "api_default", "_", "actions"]
}
